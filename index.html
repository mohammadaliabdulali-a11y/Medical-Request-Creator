diff --git a/index.html b/index.html
index 78d09f1e16d943f0e3e58b24e889796ad62a4b32..246884f4bb85dbcd18af894d98a6b85ef5c8aeb3 100644
--- a/index.html
+++ b/index.html
@@ -1,338 +1,3407 @@
 <!DOCTYPE html>
 <html lang="en">
 <head>
-<meta charset="UTF-8" />
-<meta name="viewport" content="width=device-width, initial-scale=1.0" />
-<title>Blaszkow Legal PLLC – Records Request Portal</title>
-
-<!-- Tailwind CSS -->
-<script src="https://cdn.tailwindcss.com"></script>
-
-<!-- PDF Libraries -->
-<script src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
-<script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
-
-<style>
-  body { font-family: ui-sans-serif, system-ui, -apple-system; }
-  .brand-red { color:#b91c1c; }
-  .brand-bg { background-color:#b91c1c; }
-  .brand-gray { background-color:#f3f4f6; }
-  .nav-btn { @apply text-white hover:bg-red-700 px-3 py-2 rounded-md cursor-pointer; }
-</style>
+  <meta charset="UTF-8" />
+  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
+  <title>Medical Correspondence Workspace</title>
+  <link rel="preconnect" href="https://fonts.googleapis.com" />
+  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
+  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
+  <style>
+    :root {
+      --surface-50: #f8fafc;
+      --surface-100: #eef2f7;
+      --surface-200: #d9e2ec;
+      --surface-300: #c4d5e3;
+      --surface-400: #9fb8d0;
+      --surface-500: #5d8bb9;
+      --surface-600: #426da3;
+      --surface-700: #33578a;
+      --surface-800: #27426b;
+      --surface-900: #1b2e4a;
+      --surface-950: #101b2e;
+      --primary-100: #ecf6ff;
+      --primary-200: #cde8ff;
+      --primary-300: #9ed0ff;
+      --primary-400: #6fb8ff;
+      --primary-500: #419fff;
+      --primary-600: #1c85ff;
+      --primary-700: #116de6;
+      --primary-800: #0b55b4;
+      --primary-900: #08408a;
+      --danger-100: #ffe5e5;
+      --danger-500: #f04438;
+      --warning-100: #fff5e6;
+      --warning-400: #f6a800;
+      --success-100: #e3fcec;
+      --success-500: #12b76a;
+      --radius-sm: 8px;
+      --radius-md: 16px;
+      --radius-lg: 24px;
+      --shadow-sm: 0 6px 18px rgba(15, 23, 42, 0.06);
+      --shadow-md: 0 16px 40px rgba(15, 23, 42, 0.12);
+      --shadow-lg: 0 32px 60px rgba(15, 23, 42, 0.18);
+      --border-color: rgba(15, 23, 42, 0.08);
+      --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
+    }
+
+    *,
+    *::before,
+    *::after {
+      box-sizing: border-box;
+    }
+
+    html,
+    body {
+      margin: 0;
+      padding: 0;
+      font-family: var(--font-sans);
+      background: var(--surface-50);
+      color: var(--surface-950);
+      min-height: 100vh;
+      -webkit-font-smoothing: antialiased;
+    }
+
+    body {
+      display: flex;
+      flex-direction: column;
+    }
+
+    h1,
+    h2,
+    h3,
+    h4,
+    h5,
+    h6 {
+      margin: 0;
+      font-weight: 700;
+      color: var(--surface-900);
+    }
+
+    p {
+      margin: 0;
+      color: rgba(17, 24, 39, 0.7);
+    }
+
+    button {
+      font-family: var(--font-sans);
+      border: none;
+      cursor: pointer;
+    }
+
+    input,
+    textarea,
+    select {
+      font-family: var(--font-sans);
+    }
+
+    a {
+      color: inherit;
+      text-decoration: none;
+    }
+
+    .app-shell {
+      flex: 1;
+      display: grid;
+      grid-template-columns: 320px 1fr;
+      background: var(--surface-100);
+      min-height: 100vh;
+    }
+
+    .sidebar {
+      background: linear-gradient(185deg, var(--surface-900), var(--surface-950));
+      color: #fff;
+      display: flex;
+      flex-direction: column;
+      padding: 32px 28px;
+      gap: 28px;
+      position: relative;
+      z-index: 1;
+    }
+
+    .sidebar::after {
+      content: '';
+      position: absolute;
+      inset: 0;
+      background: radial-gradient(circle at top left, rgba(255, 255, 255, 0.12), transparent 60%),
+        radial-gradient(circle at bottom right, rgba(65, 159, 255, 0.2), transparent 55%);
+      pointer-events: none;
+      z-index: -1;
+    }
+
+    .sidebar-logo {
+      display: flex;
+      align-items: center;
+      gap: 12px;
+    }
+
+    .sidebar-logo .mark {
+      width: 42px;
+      height: 42px;
+      border-radius: 14px;
+      background: linear-gradient(135deg, var(--primary-500), var(--primary-700));
+      display: grid;
+      place-items: center;
+      color: #fff;
+      font-weight: 700;
+      font-size: 20px;
+      letter-spacing: 0.04em;
+      box-shadow: 0 10px 30px rgba(17, 106, 230, 0.4);
+    }
+
+    .sidebar-logo .meta {
+      display: flex;
+      flex-direction: column;
+      gap: 4px;
+    }
+
+    .sidebar-logo span {
+      font-size: 13px;
+      opacity: 0.72;
+      letter-spacing: 0.08em;
+      text-transform: uppercase;
+    }
+
+    .sidebar-logo strong {
+      font-size: 18px;
+      letter-spacing: 0.02em;
+    }
+
+    .sidebar-nav {
+      display: flex;
+      flex-direction: column;
+      gap: 8px;
+    }
+
+    .sidebar-nav button {
+      padding: 14px 16px;
+      border-radius: var(--radius-md);
+      display: flex;
+      gap: 12px;
+      align-items: center;
+      font-size: 15px;
+      font-weight: 500;
+      background: transparent;
+      color: rgba(255, 255, 255, 0.78);
+      transition: background 0.2s ease, color 0.2s ease, transform 0.2s ease;
+    }
+
+    .sidebar-nav button.active,
+    .sidebar-nav button:hover {
+      background: rgba(255, 255, 255, 0.12);
+      color: #fff;
+      transform: translateX(2px);
+    }
+
+    .sidebar-nav button.active::before,
+    .sidebar-nav button:hover::before {
+      opacity: 1;
+      transform: translateX(-6px);
+    }
+
+    .sidebar-nav button::before {
+      content: '';
+      width: 4px;
+      height: 60%;
+      background: linear-gradient(180deg, var(--primary-400), var(--primary-700));
+      border-radius: 999px;
+      opacity: 0;
+      transition: opacity 0.2s ease, transform 0.2s ease;
+    }
+
+    .sidebar-footer {
+      margin-top: auto;
+      display: grid;
+      gap: 16px;
+    }
+
+    .sidebar-card {
+      padding: 18px;
+      background: rgba(255, 255, 255, 0.04);
+      border: 1px solid rgba(255, 255, 255, 0.1);
+      border-radius: var(--radius-md);
+      display: grid;
+      gap: 12px;
+    }
+
+    .sidebar-card h4 {
+      color: #fff;
+      font-size: 16px;
+      margin-bottom: 4px;
+    }
+
+    .sidebar-card p {
+      color: rgba(255, 255, 255, 0.72);
+      font-size: 13px;
+    }
+
+    .sidebar-card button {
+      background: #fff;
+      color: var(--surface-900);
+      padding: 10px 12px;
+      border-radius: 12px;
+      font-weight: 600;
+      font-size: 13px;
+      display: inline-flex;
+      align-items: center;
+      justify-content: center;
+      gap: 8px;
+    }
+
+    .workspace {
+      padding: 32px;
+      display: grid;
+      grid-template-rows: auto 1fr;
+      gap: 32px;
+    }
+
+    .topbar {
+      display: flex;
+      align-items: center;
+      justify-content: space-between;
+    }
+
+    .topbar .welcome {
+      display: flex;
+      flex-direction: column;
+      gap: 6px;
+    }
+
+    .topbar .welcome h1 {
+      font-size: 28px;
+      color: var(--surface-950);
+    }
+
+    .topbar .welcome span {
+      color: rgba(17, 24, 39, 0.6);
+      font-size: 14px;
+    }
+
+    .topbar-actions {
+      display: flex;
+      align-items: center;
+      gap: 12px;
+    }
+
+    .topbar-actions button {
+      padding: 10px 16px;
+      border-radius: 999px;
+      background: var(--surface-200);
+      color: var(--surface-900);
+      font-weight: 600;
+      transition: background 0.2s ease;
+    }
+
+    .topbar-actions button:hover {
+      background: var(--surface-300);
+    }
+
+    .topbar-profile {
+      display: flex;
+      align-items: center;
+      gap: 10px;
+      padding: 10px 14px;
+      border-radius: 999px;
+      background: #fff;
+      box-shadow: var(--shadow-sm);
+    }
+
+    .topbar-profile .avatar {
+      width: 36px;
+      height: 36px;
+      border-radius: 50%;
+      background: linear-gradient(135deg, var(--primary-400), var(--primary-700));
+      color: #fff;
+      display: grid;
+      place-items: center;
+      font-weight: 600;
+    }
+
+    .topbar-profile .meta {
+      display: flex;
+      flex-direction: column;
+      line-height: 1.1;
+    }
+
+    .topbar-profile .meta strong {
+      font-size: 14px;
+      color: var(--surface-900);
+    }
+
+    .topbar-profile .meta span {
+      font-size: 12px;
+      color: rgba(15, 23, 42, 0.56);
+    }
+
+    .dashboard-content {
+      display: grid;
+      grid-template-columns: 340px 1fr;
+      gap: 24px;
+      height: 100%;
+    }
+
+    .panel {
+      background: #fff;
+      border-radius: var(--radius-lg);
+      padding: 24px;
+      box-shadow: var(--shadow-sm);
+      display: flex;
+      flex-direction: column;
+      gap: 20px;
+      border: 1px solid rgba(15, 23, 42, 0.05);
+    }
+
+    .panel h2 {
+      font-size: 20px;
+      display: flex;
+      align-items: center;
+      justify-content: space-between;
+    }
+
+    .panel h2 span {
+      font-size: 13px;
+      font-weight: 600;
+      color: rgba(15, 23, 42, 0.45);
+      text-transform: uppercase;
+      letter-spacing: 0.08em;
+    }
+
+    .panel p.lead {
+      font-size: 14px;
+      line-height: 1.6;
+    }
+
+    .progress-grid {
+      display: grid;
+      gap: 14px;
+    }
+
+    .progress-card {
+      padding: 16px;
+      border-radius: var(--radius-md);
+      border: 1px solid var(--border-color);
+      display: flex;
+      flex-direction: column;
+      gap: 10px;
+      background: var(--surface-50);
+    }
+
+    .progress-card strong {
+      font-size: 18px;
+    }
+
+    .progress-card span {
+      font-size: 13px;
+      color: rgba(15, 23, 42, 0.6);
+    }
+
+    .progress-bar {
+      width: 100%;
+      height: 10px;
+      background: rgba(65, 159, 255, 0.18);
+      border-radius: 999px;
+      overflow: hidden;
+    }
+
+    .progress-bar .fill {
+      height: 100%;
+      background: linear-gradient(135deg, var(--primary-400), var(--primary-700));
+      border-radius: inherit;
+      transition: width 0.3s ease;
+    }
+
+    .section-content {
+      display: grid;
+      grid-template-rows: auto 1fr;
+      gap: 20px;
+      overflow: hidden;
+    }
+
+    .tabs {
+      display: flex;
+      gap: 12px;
+      border-bottom: 1px solid rgba(15, 23, 42, 0.08);
+      padding-bottom: 8px;
+    }
+
+    .tabs button {
+      padding: 10px 18px;
+      border-radius: 999px;
+      background: transparent;
+      color: rgba(17, 24, 39, 0.6);
+      font-weight: 600;
+      font-size: 14px;
+      transition: background 0.2s ease, color 0.2s ease;
+    }
+
+    .tabs button.active {
+      background: rgba(65, 159, 255, 0.18);
+      color: var(--primary-800);
+    }
+
+    .section-body {
+      overflow-y: auto;
+      padding-right: 8px;
+      display: grid;
+      gap: 24px;
+    }
+
+    .grid-two {
+      display: grid;
+      grid-template-columns: repeat(2, minmax(0, 1fr));
+      gap: 20px;
+    }
+
+    .grid-three {
+      display: grid;
+      grid-template-columns: repeat(3, minmax(0, 1fr));
+      gap: 20px;
+    }
+
+    .form-card {
+      background: #fff;
+      border-radius: var(--radius-md);
+      padding: 20px;
+      border: 1px solid rgba(15, 23, 42, 0.05);
+      box-shadow: 0 12px 30px rgba(15, 23, 42, 0.04);
+      display: grid;
+      gap: 16px;
+    }
+
+    .form-card h3 {
+      font-size: 18px;
+      display: flex;
+      align-items: center;
+      justify-content: space-between;
+    }
+
+    .input-field {
+      display: flex;
+      flex-direction: column;
+      gap: 6px;
+    }
+
+    .input-field label {
+      font-size: 13px;
+      font-weight: 600;
+      color: rgba(17, 24, 39, 0.7);
+    }
+
+    .input-field input,
+    .input-field select,
+    .input-field textarea {
+      padding: 12px 14px;
+      border-radius: 12px;
+      border: 1px solid rgba(15, 23, 42, 0.12);
+      background: #fff;
+      transition: border-color 0.2s ease, box-shadow 0.2s ease;
+      resize: vertical;
+    }
+
+    .input-field input:focus,
+    .input-field select:focus,
+    .input-field textarea:focus {
+      border-color: var(--primary-500);
+      box-shadow: 0 0 0 4px rgba(65, 159, 255, 0.15);
+      outline: none;
+    }
+
+    .primary-btn {
+      background: linear-gradient(135deg, var(--primary-500), var(--primary-700));
+      color: #fff;
+      padding: 12px 18px;
+      border-radius: 12px;
+      font-weight: 600;
+      font-size: 15px;
+      display: inline-flex;
+      align-items: center;
+      justify-content: center;
+      gap: 10px;
+      transition: transform 0.2s ease, box-shadow 0.2s ease;
+    }
+
+    .primary-btn:hover {
+      transform: translateY(-1px);
+      box-shadow: 0 12px 30px rgba(65, 159, 255, 0.3);
+    }
+
+    .secondary-btn {
+      background: rgba(15, 23, 42, 0.06);
+      color: var(--surface-900);
+      padding: 12px 16px;
+      border-radius: 12px;
+      font-weight: 600;
+      font-size: 14px;
+    }
+
+    table {
+      width: 100%;
+      border-collapse: separate;
+      border-spacing: 0 12px;
+    }
+
+    th {
+      text-align: left;
+      font-size: 12px;
+      text-transform: uppercase;
+      letter-spacing: 0.08em;
+      color: rgba(17, 24, 39, 0.52);
+      padding-bottom: 8px;
+    }
+
+    td {
+      background: #fff;
+      padding: 14px 16px;
+      border-top: 1px solid rgba(15, 23, 42, 0.06);
+      border-bottom: 1px solid rgba(15, 23, 42, 0.06);
+    }
+
+    td:first-child {
+      border-left: 1px solid rgba(15, 23, 42, 0.06);
+      border-top-left-radius: 14px;
+      border-bottom-left-radius: 14px;
+    }
+
+    td:last-child {
+      border-right: 1px solid rgba(15, 23, 42, 0.06);
+      border-top-right-radius: 14px;
+      border-bottom-right-radius: 14px;
+    }
+    .table-actions {
+      display: flex;
+      gap: 10px;
+      justify-content: flex-end;
+    }
+
+    .table-actions button {
+      padding: 8px 12px;
+      border-radius: 10px;
+      font-size: 13px;
+      font-weight: 600;
+    }
+
+    .table-actions .edit {
+      background: rgba(65, 159, 255, 0.16);
+      color: var(--primary-800);
+    }
+
+    .table-actions .delete {
+      background: rgba(240, 68, 56, 0.12);
+      color: var(--danger-500);
+    }
+
+    .empty-state {
+      padding: 40px;
+      border: 2px dashed rgba(15, 23, 42, 0.12);
+      border-radius: var(--radius-md);
+      text-align: center;
+      color: rgba(15, 23, 42, 0.6);
+      display: grid;
+      gap: 16px;
+    }
+
+    .empty-state span {
+      font-weight: 600;
+      color: var(--surface-900);
+    }
+
+    .document-preview {
+      background: #fff;
+      border-radius: var(--radius-md);
+      padding: 24px;
+      border: 1px solid rgba(15, 23, 42, 0.08);
+      box-shadow: var(--shadow-sm);
+      line-height: 1.6;
+      font-size: 14px;
+      white-space: pre-wrap;
+    }
+
+    .modal-backdrop {
+      position: fixed;
+      inset: 0;
+      background: rgba(15, 23, 42, 0.58);
+      display: grid;
+      place-items: center;
+      padding: 40px 20px;
+      z-index: 10;
+      backdrop-filter: blur(8px);
+    }
+
+    .auth-modal {
+      width: min(960px, 100%);
+      background: #fff;
+      border-radius: var(--radius-lg);
+      display: grid;
+      grid-template-columns: 380px 1fr;
+      overflow: hidden;
+      box-shadow: var(--shadow-lg);
+    }
+
+    .auth-hero {
+      background: linear-gradient(135deg, var(--primary-500), var(--primary-800));
+      color: #fff;
+      padding: 48px 36px;
+      display: flex;
+      flex-direction: column;
+      justify-content: space-between;
+      position: relative;
+      z-index: 0;
+    }
+
+    .auth-hero::after {
+      content: '';
+      position: absolute;
+      inset: 0;
+      background: radial-gradient(circle at 40% 20%, rgba(255, 255, 255, 0.25), transparent 55%),
+        radial-gradient(circle at 80% 80%, rgba(12, 74, 110, 0.35), transparent 60%);
+      z-index: -1;
+    }
+
+    .auth-hero h2 {
+      font-size: 32px;
+      line-height: 1.2;
+      color: #fff;
+    }
+
+    .auth-hero p {
+      color: rgba(255, 255, 255, 0.78);
+      font-size: 15px;
+      line-height: 1.6;
+    }
+
+    .auth-steps {
+      display: grid;
+      gap: 18px;
+      margin-top: 32px;
+    }
+
+    .auth-step {
+      display: flex;
+      align-items: center;
+      gap: 14px;
+      padding: 14px;
+      border-radius: var(--radius-md);
+      background: rgba(255, 255, 255, 0.08);
+      border: 1px solid rgba(255, 255, 255, 0.12);
+    }
+
+    .auth-step .badge {
+      width: 34px;
+      height: 34px;
+      border-radius: 12px;
+      display: grid;
+      place-items: center;
+      background: rgba(255, 255, 255, 0.18);
+      font-weight: 600;
+    }
+
+    .auth-body {
+      padding: 40px;
+      display: flex;
+      flex-direction: column;
+      gap: 24px;
+      position: relative;
+    }
+
+    .auth-tabs {
+      display: flex;
+      gap: 10px;
+      border-bottom: 1px solid rgba(15, 23, 42, 0.08);
+      padding-bottom: 12px;
+    }
+
+    .auth-tabs button {
+      padding: 10px 18px;
+      border-radius: 12px 12px 0 0;
+      background: transparent;
+      font-weight: 600;
+      color: rgba(15, 23, 42, 0.6);
+      border: none;
+      border-bottom: 3px solid transparent;
+    }
+
+    .auth-tabs button.active {
+      color: var(--primary-700);
+      border-bottom-color: var(--primary-500);
+    }
+
+    .auth-form {
+      display: grid;
+      gap: 18px;
+    }
+
+    .auth-form .input-field input {
+      background: var(--surface-50);
+    }
+
+    .auth-form button[type="submit"] {
+      padding: 12px;
+      border-radius: 12px;
+      font-weight: 600;
+      background: linear-gradient(135deg, var(--primary-500), var(--primary-700));
+      color: #fff;
+      border: none;
+    }
+
+    .auth-helper {
+      font-size: 13px;
+      color: rgba(15, 23, 42, 0.6);
+      text-align: center;
+    }
+
+    .pill {
+      padding: 6px 10px;
+      border-radius: 999px;
+      background: rgba(65, 159, 255, 0.18);
+      color: var(--primary-800);
+      font-weight: 600;
+      font-size: 12px;
+    }
+
+    .data-chip {
+      display: inline-flex;
+      align-items: center;
+      padding: 6px 10px;
+      border-radius: 999px;
+      background: rgba(17, 24, 39, 0.08);
+      font-size: 12px;
+      font-weight: 600;
+      gap: 6px;
+    }
+
+    .list-cards {
+      display: grid;
+      gap: 16px;
+    }
+
+    .list-card {
+      border: 1px solid rgba(15, 23, 42, 0.05);
+      border-radius: var(--radius-md);
+      padding: 20px;
+      background: #fff;
+      box-shadow: 0 14px 34px rgba(15, 23, 42, 0.08);
+      display: grid;
+      gap: 12px;
+    }
+
+    .list-card-header {
+      display: flex;
+      justify-content: space-between;
+      align-items: flex-start;
+    }
+
+    .list-card h4 {
+      font-size: 16px;
+    }
+
+    .list-card-meta {
+      display: flex;
+      flex-wrap: wrap;
+      gap: 8px;
+      font-size: 13px;
+      color: rgba(15, 23, 42, 0.68);
+    }
+
+    .timeline {
+      display: grid;
+      gap: 20px;
+      padding-left: 12px;
+      position: relative;
+    }
+
+    .timeline::before {
+      content: '';
+      position: absolute;
+      left: 6px;
+      top: 4px;
+      bottom: 4px;
+      width: 2px;
+      background: rgba(15, 23, 42, 0.1);
+    }
+
+    .timeline-item {
+      position: relative;
+      padding-left: 28px;
+      display: flex;
+      flex-direction: column;
+      gap: 6px;
+    }
+
+    .timeline-item::before {
+      content: '';
+      position: absolute;
+      left: -1px;
+      top: 4px;
+      width: 10px;
+      height: 10px;
+      border-radius: 50%;
+      background: var(--primary-500);
+      box-shadow: 0 0 0 4px rgba(65, 159, 255, 0.2);
+    }
+
+    .timeline-item strong {
+      font-size: 14px;
+      color: var(--surface-800);
+    }
+
+    .timeline-item span {
+      font-size: 12px;
+      color: rgba(15, 23, 42, 0.6);
+    }
+
+    .notification {
+      padding: 14px 16px;
+      border-radius: 12px;
+      border: 1px solid rgba(15, 23, 42, 0.08);
+      background: rgba(17, 24, 39, 0.02);
+      display: flex;
+      justify-content: space-between;
+      align-items: center;
+      font-size: 13px;
+    }
+
+    .notification strong {
+      color: var(--surface-800);
+    }
+
+    .settings-grid {
+      display: grid;
+      grid-template-columns: repeat(2, minmax(0, 1fr));
+      gap: 20px;
+    }
+
+    .settings-card {
+      padding: 20px;
+      border-radius: var(--radius-md);
+      background: #fff;
+      border: 1px solid rgba(15, 23, 42, 0.05);
+      display: grid;
+      gap: 12px;
+    }
+
+    .settings-card h3 {
+      font-size: 17px;
+    }
+
+    .settings-card p {
+      font-size: 13px;
+      line-height: 1.6;
+    }
+
+    .settings-card .actions {
+      display: flex;
+      gap: 12px;
+    }
+
+    .tag-cloud {
+      display: flex;
+      flex-wrap: wrap;
+      gap: 8px;
+    }
+
+    .tag-cloud span {
+      padding: 6px 10px;
+      border-radius: 10px;
+      background: rgba(15, 23, 42, 0.08);
+      font-size: 12px;
+      font-weight: 600;
+    }
+
+    .editor {
+      display: grid;
+      gap: 10px;
+    }
+
+    .editor-toolbar {
+      display: flex;
+      gap: 10px;
+      flex-wrap: wrap;
+    }
+
+    .editor-toolbar button {
+      padding: 8px 12px;
+      border-radius: 10px;
+      background: rgba(15, 23, 42, 0.08);
+      font-weight: 600;
+      font-size: 12px;
+    }
+
+    .editor textarea {
+      min-height: 200px;
+      font-family: 'Courier New', monospace;
+      font-size: 14px;
+    }
+
+    .status-bar {
+      display: flex;
+      justify-content: space-between;
+      align-items: center;
+      font-size: 12px;
+      color: rgba(15, 23, 42, 0.6);
+    }
+
+    .activity-log {
+      display: grid;
+      gap: 12px;
+    }
+
+    .activity-entry {
+      padding: 14px 16px;
+      border-radius: 12px;
+      background: rgba(15, 23, 42, 0.03);
+      border: 1px solid rgba(15, 23, 42, 0.05);
+      display: grid;
+      gap: 6px;
+    }
+
+    .activity-entry strong {
+      color: var(--surface-800);
+    }
+
+    .toast-container {
+      position: fixed;
+      right: 24px;
+      bottom: 24px;
+      display: grid;
+      gap: 12px;
+      z-index: 20;
+    }
+
+    .toast {
+      min-width: 260px;
+      max-width: 340px;
+      padding: 16px 18px;
+      border-radius: 14px;
+      background: #fff;
+      box-shadow: var(--shadow-md);
+      border-left: 4px solid var(--primary-500);
+      display: grid;
+      gap: 8px;
+    }
+
+    .toast strong {
+      font-size: 14px;
+      color: var(--surface-900);
+    }
+
+    .toast span {
+      font-size: 12px;
+      color: rgba(15, 23, 42, 0.6);
+    }
+
+    .badge-grid {
+      display: grid;
+      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
+      gap: 12px;
+    }
+
+    .badge-grid span {
+      padding: 8px 12px;
+      background: rgba(15, 23, 42, 0.05);
+      border-radius: 999px;
+      font-size: 12px;
+      text-align: center;
+      font-weight: 600;
+    }
+
+    .generator-grid {
+      display: grid;
+      grid-template-columns: repeat(2, minmax(0, 1fr));
+      gap: 20px;
+    }
+
+    .generator-controls {
+      display: grid;
+      gap: 18px;
+    }
+
+    .list-table {
+      overflow-x: auto;
+    }
+
+    .list-table table {
+      min-width: 720px;
+    }
+
+    .loading-indicator {
+      display: none;
+      align-items: center;
+      justify-content: center;
+      gap: 10px;
+      font-size: 13px;
+    }
+
+    .loading-indicator.active {
+      display: flex;
+    }
+
+    .loading-indicator span {
+      width: 12px;
+      height: 12px;
+      border-radius: 999px;
+      border: 2px solid rgba(15, 23, 42, 0.12);
+      border-top-color: var(--primary-500);
+      animation: spin 1s linear infinite;
+    }
+
+    @keyframes spin {
+      to {
+        transform: rotate(360deg);
+      }
+    }
+
+    .grid-responsive {
+      display: grid;
+      gap: 20px;
+    }
+
+    @media (max-width: 1280px) {
+      .app-shell {
+        grid-template-columns: 280px 1fr;
+      }
+
+      .auth-modal {
+        grid-template-columns: 1fr;
+      }
+
+      .auth-hero {
+        display: none;
+      }
+    }
+
+    @media (max-width: 960px) {
+      .app-shell {
+        grid-template-columns: 1fr;
+      }
+
+      .sidebar {
+        position: fixed;
+        inset: 0 auto 0 0;
+        width: 260px;
+        transform: translateX(-110%);
+        transition: transform 0.3s ease;
+        z-index: 20;
+      }
+
+      .sidebar.open {
+        transform: translateX(0);
+      }
+
+      .workspace {
+        padding: 24px;
+      }
+
+      .dashboard-content {
+        grid-template-columns: 1fr;
+      }
+
+      .generator-grid {
+        grid-template-columns: 1fr;
+      }
+
+      .topbar-actions button.toggle-menu {
+        display: inline-flex;
+      }
+    }
+
+    @media (max-width: 720px) {
+      .workspace {
+        padding: 16px;
+      }
+
+      .topbar {
+        flex-direction: column;
+        align-items: flex-start;
+        gap: 16px;
+      }
+
+      .topbar-actions {
+        width: 100%;
+        justify-content: space-between;
+      }
+
+      .grid-two,
+      .grid-three,
+      .settings-grid {
+        grid-template-columns: 1fr;
+      }
+
+      table {
+        min-width: 540px;
+      }
+    }
+
+    .hidden {
+      display: none !important;
+    }
+  </style>
 </head>
-<body class="min-h-screen flex flex-col brand-gray">
-
-<!-- ===== HEADER ===== -->
-<header class="brand-bg text-white p-4 flex justify-between items-center">
-  <h1 class="text-xl font-bold tracking-wide">
-    Blaszkow Legal PLLC
-  </h1>
-  <div id="userArea" class="text-sm"></div>
-</header>
-
-<!-- ===== MAIN LAYOUT ===== -->
-<main class="flex flex-1">
-  <!-- SIDEBAR -->
-  <nav class="bg-gray-800 w-56 text-white flex flex-col space-y-2 p-4">
-    <button class="nav-btn" onclick="showPage('dashboard')">Dashboard</button>
-    <button class="nav-btn" onclick="showPage('clients')">Clients</button>
-    <button class="nav-btn" onclick="showPage('providers')">Providers</button>
-    <button class="nav-btn" onclick="showPage('templates')">Templates</button>
-    <button class="nav-btn" onclick="showPage('settings')">Settings</button>
-  </nav>
-
-  <!-- CONTENT AREA -->
-  <section id="content" class="flex-1 p-6 overflow-y-auto bg-white">
-
-    <!-- DASHBOARD -->
-    <div id="dashboard" class="page">
-      <h2 class="text-2xl font-bold mb-4 brand-red">Generate Correspondence</h2>
-      <p class="text-gray-700 mb-3">
-        Select a client and provider, then click “Generate PDF.”  (PDF logic added in Part 3.)
-      </p>
-
-      <div class="grid grid-cols-2 gap-4 mb-4">
+<body>
+  <div class="toast-container" id="toastContainer"></div>
+  <div class="modal-backdrop" id="authOverlay">
+    <div class="auth-modal">
+      <div class="auth-hero">
         <div>
-          <label class="block text-sm font-medium text-gray-700">Client</label>
-          <select id="dashClient" class="border p-2 w-full rounded"></select>
+          <div class="sidebar-logo" style="color: #fff;">
+            <div class="mark">MC</div>
+            <div class="meta">
+              <span>Secure Workspace</span>
+              <strong>Medical Correspondence</strong>
+            </div>
+          </div>
+          <h2>Your compliant launchpad for medical records collaboration</h2>
+          <p>Sign in with the seeded administrator credentials or create a new workspace user. Every action you take inside this environment is encrypted in local storage for your device only.</p>
         </div>
         <div>
-          <label class="block text-sm font-medium text-gray-700">Provider</label>
-          <select id="dashProvider" class="border p-2 w-full rounded"></select>
+          <div class="auth-steps">
+            <div class="auth-step">
+              <span class="badge">1</span>
+              <div>
+                <strong>Access the Portal</strong>
+                <p>Authenticate with the default admin account or your own credentials.</p>
+              </div>
+            </div>
+            <div class="auth-step">
+              <span class="badge">2</span>
+              <div>
+                <strong>Curate Profiles</strong>
+                <p>Capture provider and client details, contact data, and compliance checkpoints.</p>
+              </div>
+            </div>
+            <div class="auth-step">
+              <span class="badge">3</span>
+              <div>
+                <strong>Generate Requests</strong>
+                <p>Merge HIPAA releases and medical requests, then export and dispatch.</p>
+              </div>
+            </div>
+          </div>
+        </div>
+      </div>
+      <div class="auth-body">
+        <div class="auth-tabs">
+          <button class="active" data-auth-tab="sign-in">Sign In</button>
+          <button data-auth-tab="create-account">Create Account</button>
+          <button data-auth-tab="recover-password">Reset Password</button>
+          <button data-auth-tab="lookup-username">Find Username</button>
+        </div>
+        <div class="auth-forms">
+          <form class="auth-form" id="signInForm" data-auth-panel="sign-in">
+            <div class="notification" id="signInHint">
+              <span>Default administrator credentials ready:</span>
+              <strong>admin@workspace.test / SecurePortal!24</strong>
+            </div>
+            <div class="input-field">
+              <label for="signInEmail">Email</label>
+              <input type="email" id="signInEmail" placeholder="you@example.com" required />
+            </div>
+            <div class="input-field">
+              <label for="signInPassword">Password</label>
+              <input type="password" id="signInPassword" placeholder="Enter password" required />
+            </div>
+            <button type="submit">Access Workspace</button>
+            <div class="auth-helper">Need help? Switch tabs above to recover your credentials.</div>
+          </form>
+          <form class="auth-form hidden" id="createAccountForm" data-auth-panel="create-account">
+            <div class="input-field">
+              <label for="createFullName">Full Name</label>
+              <input type="text" id="createFullName" placeholder="Jordan Rivera" required />
+            </div>
+            <div class="input-field">
+              <label for="createEmail">Email</label>
+              <input type="email" id="createEmail" placeholder="jordan@example.com" required />
+            </div>
+            <div class="input-field">
+              <label for="createPassword">Password</label>
+              <input type="password" id="createPassword" placeholder="Choose a secure password" required />
+            </div>
+            <div class="input-field">
+              <label for="createConfirmPassword">Confirm Password</label>
+              <input type="password" id="createConfirmPassword" placeholder="Repeat your password" required />
+            </div>
+            <button type="submit">Create Secure Account</button>
+            <div class="auth-helper">Passwords must match and include at least 8 characters with letters and numbers.</div>
+          </form>
+          <form class="auth-form hidden" id="recoverPasswordForm" data-auth-panel="recover-password">
+            <div class="input-field">
+              <label for="recoverEmail">Account Email</label>
+              <input type="email" id="recoverEmail" placeholder="Enter the email on file" required />
+            </div>
+            <button type="submit">Send Reset Instructions</button>
+            <div class="auth-helper">A temporary reset token will appear in the notification center.</div>
+          </form>
+          <form class="auth-form hidden" id="lookupUsernameForm" data-auth-panel="lookup-username">
+            <div class="input-field">
+              <label for="lookupName">Full Name</label>
+              <input type="text" id="lookupName" placeholder="Name linked to the account" required />
+            </div>
+            <button type="submit">Reveal Username</button>
+            <div class="auth-helper">Usernames are the email addresses stored for each authorized account.</div>
+          </form>
+        </div>
+      </div>
+    </div>
+  </div>
+  <div class="app-shell">
+    <aside class="sidebar" id="sidebar">
+      <div>
+        <div class="sidebar-logo">
+          <div class="mark">MC</div>
+          <div class="meta">
+            <span>Operations Suite</span>
+            <strong>Medical Desk</strong>
+          </div>
+        </div>
+      </div>
+      <nav class="sidebar-nav" id="sidebarNav">
+        <button class="active" data-view="dashboard">
+          <span>Dashboard</span>
+        </button>
+        <button data-view="clients">
+          <span>Client Registry</span>
+        </button>
+        <button data-view="providers">
+          <span>Provider Directory</span>
+        </button>
+        <button data-view="templates">
+          <span>Document Templates</span>
+        </button>
+        <button data-view="generator">
+          <span>Request Generator</span>
+        </button>
+        <button data-view="settings">
+          <span>Workspace Settings</span>
+        </button>
+        <button data-view="activity">
+          <span>Activity Journal</span>
+        </button>
+      </nav>
+      <div class="sidebar-footer">
+        <div class="sidebar-card">
+          <h4>Need a walkthrough?</h4>
+          <p>Review the compliance checklist to ensure HIPAA releases and medical requests align with provider requirements.</p>
+          <button id="openChecklist">View checklist</button>
+        </div>
+        <div class="sidebar-card">
+          <h4>Export workspace</h4>
+          <p>Download a secure archive of clients, providers, and templates for your records.</p>
+          <button id="exportWorkspace">Export data</button>
         </div>
       </div>
+    </aside>
+    <main class="workspace">
+      <header class="topbar">
+        <div class="welcome">
+          <h1 id="dashboardGreeting">Welcome to the Medical Correspondence Workspace</h1>
+          <span>Organize provider requests, capture client authorizations, and assemble compliant packets.</span>
+        </div>
+        <div class="topbar-actions">
+          <button class="toggle-menu" id="toggleSidebar" style="display:none;">Menu</button>
+          <button id="quickAdd">Quick Add</button>
+          <div class="topbar-profile" id="userProfile">
+            <div class="avatar" id="userAvatar">MC</div>
+            <div class="meta">
+              <strong id="userName">Team Member</strong>
+              <span id="userEmail">user@workspace.test</span>
+            </div>
+          </div>
+        </div>
+      </header>
+      <section class="dashboard-content" id="dashboardView">
+        <div class="panel" id="snapshotPanel">
+          <h2>
+            Workspace Snapshot
+            <span id="snapshotDate"></span>
+          </h2>
+          <p class="lead">Monitor the health of your medical records pipeline. Review outstanding packets, confirm HIPAA authorizations, and anticipate provider response timelines.</p>
+          <div class="progress-grid">
+            <div class="progress-card">
+              <strong id="clientCount">0 Clients</strong>
+              <span>Active clients with completed intake</span>
+              <div class="progress-bar">
+                <div class="fill" id="clientProgress" style="width:0%"></div>
+              </div>
+            </div>
+            <div class="progress-card">
+              <strong id="providerCount">0 Providers</strong>
+              <span>Verified provider profiles prepared for requests</span>
+              <div class="progress-bar">
+                <div class="fill" id="providerProgress" style="width:0%"></div>
+              </div>
+            </div>
+            <div class="progress-card">
+              <strong id="templateCount">0 Templates</strong>
+              <span>HIPAA and request templates ready for merging</span>
+              <div class="progress-bar">
+                <div class="fill" id="templateProgress" style="width:0%"></div>
+              </div>
+            </div>
+          </div>
+          <div class="notification">
+            <div>
+              <strong>Checklist reminder:</strong> ensure HIPAA releases are less than 12 months old before dispatching.
+            </div>
+            <button class="secondary-btn" id="viewChecklist">Open checklist</button>
+          </div>
+          <div class="timeline" id="timelineFeed"></div>
+        </div>
+        <div class="panel section-content">
+          <div class="tabs" id="dashboardTabs">
+            <button class="active" data-tab="overview">Overview</button>
+            <button data-tab="clients">Client Insights</button>
+            <button data-tab="providers">Provider Insights</button>
+            <button data-tab="tasks">Task Board</button>
+          </div>
+          <div class="section-body">
+            <div data-tab-panel="overview">
+              <div class="grid-two">
+                <div class="form-card">
+                  <h3>Daily Readiness</h3>
+                  <div class="tag-cloud" id="dailyReadiness"></div>
+                </div>
+                <div class="form-card">
+                  <h3>Upcoming Deadlines</h3>
+                  <div class="activity-log" id="upcomingDeadlines"></div>
+                </div>
+              </div>
+              <div class="grid-two">
+                <div class="form-card">
+                  <h3>Packet Generation Health</h3>
+                  <div class="badge-grid" id="packetHealth"></div>
+                </div>
+                <div class="form-card">
+                  <h3>Compliance Tasks</h3>
+                  <div class="activity-log" id="complianceTasks"></div>
+                </div>
+              </div>
+            </div>
+            <div class="hidden" data-tab-panel="clients">
+              <div class="form-card">
+                <h3>Client Milestones</h3>
+                <div class="activity-log" id="clientMilestones"></div>
+              </div>
+            </div>
+            <div class="hidden" data-tab-panel="providers">
+              <div class="form-card">
+                <h3>Provider Communications</h3>
+                <div class="activity-log" id="providerCommunications"></div>
+              </div>
+            </div>
+            <div class="hidden" data-tab-panel="tasks">
+              <div class="form-card">
+                <h3>Operations Kanban</h3>
+                <div class="activity-log" id="operationsKanban"></div>
+              </div>
+            </div>
+          </div>
+        </div>
+      </section>
+      <section class="panel hidden" id="clientsView">
+        <h2>Client Profiles <span id="clientViewCount"></span></h2>
+        <p class="lead">Capture client authorization details, contact data, and case specifics. These profiles populate HIPAA releases and medical request letters.</p>
+        <div class="grid-two">
+          <form class="form-card" id="clientForm">
+            <h3>New Client Intake</h3>
+            <div class="grid-two">
+              <div class="input-field">
+                <label for="clientFirstName">First Name</label>
+                <input type="text" id="clientFirstName" required />
+              </div>
+              <div class="input-field">
+                <label for="clientLastName">Last Name</label>
+                <input type="text" id="clientLastName" required />
+              </div>
+            </div>
+            <div class="grid-two">
+              <div class="input-field">
+                <label for="clientEmail">Email</label>
+                <input type="email" id="clientEmail" required />
+              </div>
+              <div class="input-field">
+                <label for="clientPhone">Phone</label>
+                <input type="tel" id="clientPhone" required />
+              </div>
+            </div>
+            <div class="grid-two">
+              <div class="input-field">
+                <label for="clientDob">Date of Birth</label>
+                <input type="date" id="clientDob" required />
+              </div>
+              <div class="input-field">
+                <label for="clientIdentifier">Client ID / MRN</label>
+                <input type="text" id="clientIdentifier" placeholder="Optional medical record number" />
+              </div>
+            </div>
+            <div class="input-field">
+              <label for="clientAddress">Mailing Address</label>
+              <textarea id="clientAddress" rows="3" placeholder="Include city, state, and postal code" required></textarea>
+            </div>
+            <div class="input-field">
+              <label for="clientNotes">Case Notes</label>
+              <textarea id="clientNotes" rows="3" placeholder="Primary incident details, treatment summaries, or constraints"></textarea>
+            </div>
+            <div class="grid-two">
+              <div class="input-field">
+                <label for="clientAuthorizationDate">HIPAA Authorization Date</label>
+                <input type="date" id="clientAuthorizationDate" />
+              </div>
+              <div class="input-field">
+                <label for="clientAuthorizationScope">Authorization Scope</label>
+                <input type="text" id="clientAuthorizationScope" placeholder="e.g., Medical records from Jan 2022 - Present" />
+              </div>
+            </div>
+            <div class="grid-two">
+              <div class="input-field">
+                <label for="clientAttorney">Attorney Assigned</label>
+                <input type="text" id="clientAttorney" placeholder="Attorney or case manager" />
+              </div>
+              <div class="input-field">
+                <label for="clientStatus">Status</label>
+                <select id="clientStatus">
+                  <option value="Intake">Intake</option>
+                  <option value="Awaiting Authorization">Awaiting Authorization</option>
+                  <option value="Ready for Request">Ready for Request</option>
+                  <option value="Request Submitted">Request Submitted</option>
+                  <option value="Records Received">Records Received</option>
+                </select>
+              </div>
+            </div>
+            <div class="grid-two">
+              <div class="input-field">
+                <label for="clientInsurance">Insurance Provider</label>
+                <input type="text" id="clientInsurance" placeholder="Primary insurance carrier" />
+              </div>
+              <div class="input-field">
+                <label for="clientPolicy">Policy Number</label>
+                <input type="text" id="clientPolicy" placeholder="Insurance policy number" />
+              </div>
+            </div>
+            <div class="grid-two">
+              <div class="input-field">
+                <label for="clientInjuryDate">Injury / Incident Date</label>
+                <input type="date" id="clientInjuryDate" />
+              </div>
+              <div class="input-field">
+                <label for="clientPreferredContact">Preferred Contact Method</label>
+                <select id="clientPreferredContact">
+                  <option value="Email">Email</option>
+                  <option value="Phone">Phone</option>
+                  <option value="Text">Text</option>
+                  <option value="Mail">Mail</option>
+                </select>
+              </div>
+            </div>
+            <div class="status-bar">
+              <span id="clientFormStatus">Complete all required fields.</span>
+              <button type="submit" class="primary-btn">Save Client Profile</button>
+            </div>
+          </form>
+          <div class="form-card">
+            <h3>Client Directory</h3>
+            <div class="input-field">
+              <label for="clientSearch">Search clients</label>
+              <input type="search" id="clientSearch" placeholder="Search by name, attorney, or status" />
+            </div>
+            <div class="list-table">
+              <table>
+                <thead>
+                  <tr>
+                    <th>Name</th>
+                    <th>Contact</th>
+                    <th>Status</th>
+                    <th>Attorney</th>
+                    <th>Authorization</th>
+                    <th>Actions</th>
+                  </tr>
+                </thead>
+                <tbody id="clientTable"></tbody>
+              </table>
+            </div>
+            <div class="empty-state hidden" id="clientEmptyState">
+              <span>No clients captured yet.</span>
+              Add a client to begin generating correspondence packets.
+            </div>
+          </div>
+        </div>
+      </section>
+      <section class="panel hidden" id="providersView">
+        <h2>Provider Profiles <span id="providerViewCount"></span></h2>
+        <p class="lead">Organize medical facilities, contacts, delivery preferences, and documentation requirements.</p>
+        <div class="grid-two">
+          <form class="form-card" id="providerForm">
+            <h3>New Provider</h3>
+            <div class="grid-two">
+              <div class="input-field">
+                <label for="providerName">Provider Name</label>
+                <input type="text" id="providerName" required />
+              </div>
+              <div class="input-field">
+                <label for="providerType">Provider Type</label>
+                <select id="providerType">
+                  <option value="Hospital">Hospital</option>
+                  <option value="Clinic">Clinic</option>
+                  <option value="Chiropractor">Chiropractor</option>
+                  <option value="Physical Therapy">Physical Therapy</option>
+                  <option value="Imaging Center">Imaging Center</option>
+                  <option value="Specialist">Specialist</option>
+                </select>
+              </div>
+            </div>
+            <div class="grid-two">
+              <div class="input-field">
+                <label for="providerEmail">Email</label>
+                <input type="email" id="providerEmail" />
+              </div>
+              <div class="input-field">
+                <label for="providerPhone">Phone</label>
+                <input type="tel" id="providerPhone" />
+              </div>
+            </div>
+            <div class="input-field">
+              <label for="providerFax">Fax Number</label>
+              <input type="text" id="providerFax" placeholder="Fax for medical records requests" />
+            </div>
+            <div class="input-field">
+              <label for="providerAddress">Address</label>
+              <textarea id="providerAddress" rows="3" required></textarea>
+            </div>
+            <div class="grid-two">
+              <div class="input-field">
+                <label for="providerAttention">Attention To</label>
+                <input type="text" id="providerAttention" placeholder="Medical Records Dept." />
+              </div>
+              <div class="input-field">
+                <label for="providerProcessingTime">Processing Time (days)</label>
+                <input type="number" id="providerProcessingTime" min="0" value="14" />
+              </div>
+            </div>
+            <div class="input-field">
+              <label for="providerRequirements">Special Requirements</label>
+              <textarea id="providerRequirements" rows="3" placeholder="e.g., Original signatures, notarized releases, processing fees"></textarea>
+            </div>
+            <div class="grid-two">
+              <div class="input-field">
+                <label for="providerDelivery">Delivery Preference</label>
+                <select id="providerDelivery">
+                  <option value="Fax">Fax</option>
+                  <option value="Portal Upload">Portal Upload</option>
+                  <option value="Mail">Mail</option>
+                  <option value="Email">Email</option>
+                  <option value="In Person Pickup">In Person Pickup</option>
+                </select>
+              </div>
+              <div class="input-field">
+                <label for="providerStatus">Status</label>
+                <select id="providerStatus">
+                  <option value="Active">Active</option>
+                  <option value="Pending">Pending</option>
+                  <option value="Inactive">Inactive</option>
+                  <option value="Archived">Archived</option>
+                </select>
+              </div>
+            </div>
+            <div class="grid-two">
+              <div class="input-field">
+                <label for="providerPortal">Records Portal</label>
+                <input type="url" id="providerPortal" placeholder="https://providerportal.com" />
+              </div>
+              <div class="input-field">
+                <label for="providerNotes">Internal Notes</label>
+                <textarea id="providerNotes" rows="3" placeholder="Payment details, follow-up numbers, fee schedules"></textarea>
+              </div>
+            </div>
+            <div class="status-bar">
+              <span id="providerFormStatus">Complete provider details to save.</span>
+              <button type="submit" class="primary-btn">Save Provider Profile</button>
+            </div>
+          </form>
+          <div class="form-card">
+            <h3>Provider Directory</h3>
+            <div class="input-field">
+              <label for="providerSearch">Search providers</label>
+              <input type="search" id="providerSearch" placeholder="Search by name, delivery preference, or status" />
+            </div>
+            <div class="list-table">
+              <table>
+                <thead>
+                  <tr>
+                    <th>Name</th>
+                    <th>Contact</th>
+                    <th>Delivery</th>
+                    <th>Processing</th>
+                    <th>Status</th>
+                    <th>Actions</th>
+                  </tr>
+                </thead>
+                <tbody id="providerTable"></tbody>
+              </table>
+            </div>
+            <div class="empty-state hidden" id="providerEmptyState">
+              <span>No providers recorded.</span>
+              Add providers to track requirements and speed up request generation.
+            </div>
+          </div>
+        </div>
+      </section>
+      <section class="panel hidden" id="templatesView">
+        <h2>Document Templates <span id="templateViewCount"></span></h2>
+        <p class="lead">Design HIPAA releases and medical request letters with placeholders that merge client and provider context automatically.</p>
+        <div class="grid-two">
+          <form class="form-card" id="templateForm">
+            <h3>Template Editor</h3>
+            <div class="grid-two">
+              <div class="input-field">
+                <label for="templateName">Template Name</label>
+                <input type="text" id="templateName" placeholder="HIPAA Release" required />
+              </div>
+              <div class="input-field">
+                <label for="templateCategory">Category</label>
+                <select id="templateCategory">
+                  <option value="HIPAA">HIPAA Authorization</option>
+                  <option value="Medical Request">Medical Records Request</option>
+                  <option value="Follow Up">Follow Up Letter</option>
+                  <option value="Invoice">Invoice Notice</option>
+                  <option value="Custom">Custom Template</option>
+                </select>
+              </div>
+            </div>
+            <div class="editor">
+              <div class="editor-toolbar">
+                <button type="button" data-insert="{{client.fullName}}">Client Name</button>
+                <button type="button" data-insert="{{client.address}}">Client Address</button>
+                <button type="button" data-insert="{{client.authorizationDate}}">Authorization Date</button>
+                <button type="button" data-insert="{{provider.name}}">Provider Name</button>
+                <button type="button" data-insert="{{provider.address}}">Provider Address</button>
+                <button type="button" data-insert="{{today}}">Today</button>
+                <button type="button" data-insert="{{workspace.user}}">Workspace User</button>
+                <button type="button" data-insert="{{workspace.organization}}">Organization Name</button>
+                <button type="button" data-insert="{{workspace.signature}}">Workspace Signature</button>
+              </div>
+              <div class="input-field">
+                <label for="templateBody">Template Body</label>
+                <textarea id="templateBody" placeholder="Dear {{provider.name}},\n\nPlease provide records for {{client.fullName}}..." required></textarea>
+              </div>
+            </div>
+            <div class="status-bar">
+              <span id="templateFormStatus">Use placeholders to personalize the template.</span>
+              <div>
+                <button type="button" class="secondary-btn" id="resetTemplate">Reset</button>
+                <button type="submit" class="primary-btn">Save Template</button>
+              </div>
+            </div>
+          </form>
+          <div class="form-card">
+            <h3>Template Library</h3>
+            <div class="input-field">
+              <label for="templateSearch">Search templates</label>
+              <input type="search" id="templateSearch" placeholder="Search by name or category" />
+            </div>
+            <div class="list-cards" id="templateList"></div>
+            <div class="empty-state hidden" id="templateEmptyState">
+              <span>No templates yet.</span>
+              Save a HIPAA or medical request template to begin generating documents.
+            </div>
+          </div>
+        </div>
+      </section>
+      <section class="panel hidden" id="generatorView">
+        <h2>Request Generator <span class="pill" id="generatorStatus">Ready</span></h2>
+        <p class="lead">Combine client authorizations and provider requirements to produce HIPAA releases and medical record request packets in seconds.</p>
+        <div class="generator-grid">
+          <div class="generator-controls">
+            <div class="form-card">
+              <h3>Packet Configuration</h3>
+              <div class="grid-two">
+                <div class="input-field">
+                  <label for="generatorClient">Select Client</label>
+                  <select id="generatorClient"></select>
+                </div>
+                <div class="input-field">
+                  <label for="generatorProvider">Select Provider</label>
+                  <select id="generatorProvider"></select>
+                </div>
+              </div>
+              <div class="input-field">
+                <label for="generatorTemplates">Templates</label>
+                <select id="generatorTemplates" multiple size="6"></select>
+              </div>
+              <div class="input-field">
+                <label for="generatorNotes">Packet Notes</label>
+                <textarea id="generatorNotes" rows="4" placeholder="Include delivery instructions, fees paid, or follow-up reminders"></textarea>
+              </div>
+              <div class="status-bar">
+                <span id="generatorFormStatus">Select a client, provider, and at least one template.</span>
+                <button class="primary-btn" id="generatePacket">Generate Packet</button>
+              </div>
+              <div class="loading-indicator" id="generatorLoading">
+                <span></span> Building PDF packet...
+              </div>
+            </div>
+            <div class="form-card">
+              <h3>Merge Preview</h3>
+              <div class="document-preview" id="mergePreview">Select data to preview merged documents.</div>
+              <div class="status-bar">
+                <span id="previewStatus">Awaiting packet configuration.</span>
+                <button class="secondary-btn" id="downloadPacket" disabled>Download PDF</button>
+              </div>
+            </div>
+          </div>
+          <div class="form-card">
+            <h3>Packet Activity</h3>
+            <div class="activity-log" id="packetActivity"></div>
+          </div>
+        </div>
+      </section>
+      <section class="panel hidden" id="settingsView">
+        <h2>Workspace Settings</h2>
+        <p class="lead">Adjust workspace preferences, manage authentication, and maintain compliance references.</p>
+        <div class="settings-grid">
+          <div class="settings-card">
+            <h3>Workspace Identity</h3>
+            <p>Set the organization name and default closing signature used in outbound correspondence.</p>
+            <div class="input-field">
+              <label for="workspaceName">Organization Name</label>
+              <input type="text" id="workspaceName" placeholder="Medical Correspondence Group" />
+            </div>
+            <div class="input-field">
+              <label for="workspaceSignature">Closing Signature</label>
+              <textarea id="workspaceSignature" rows="3" placeholder="Sincerely,\nMedical Correspondence Team"></textarea>
+            </div>
+            <div class="actions">
+              <button class="secondary-btn" id="resetIdentity">Reset</button>
+              <button class="primary-btn" id="saveIdentity">Save</button>
+            </div>
+          </div>
+          <div class="settings-card">
+            <h3>Security</h3>
+            <p>Manage workspace users, log out, or clear encrypted local data to reset the environment.</p>
+            <div class="activity-log" id="securityActions"></div>
+            <div class="actions">
+              <button class="secondary-btn" id="logoutButton">Log Out</button>
+              <button class="secondary-btn" id="clearWorkspace">Clear Local Data</button>
+            </div>
+          </div>
+          <div class="settings-card">
+            <h3>Compliance Checklist</h3>
+            <p>Track HIPAA authorization requirements and provider expectations.</p>
+            <div class="activity-log" id="complianceChecklist"></div>
+          </div>
+          <div class="settings-card">
+            <h3>Automation Preferences</h3>
+            <p>Configure merge behavior, placeholder syntax, and activity logging.</p>
+            <div class="input-field">
+              <label for="placeholderDelimiter">Placeholder Delimiter</label>
+              <input type="text" id="placeholderDelimiter" placeholder="{{ }}" />
+            </div>
+            <div class="input-field">
+              <label for="activityRetention">Activity Retention (days)</label>
+              <input type="number" id="activityRetention" min="7" value="90" />
+            </div>
+            <div class="actions">
+              <button class="secondary-btn" id="resetAutomation">Reset</button>
+              <button class="primary-btn" id="saveAutomation">Save</button>
+            </div>
+          </div>
+        </div>
+      </section>
+      <section class="panel hidden" id="activityView">
+        <h2>Activity Journal</h2>
+        <p class="lead">Review every automated action, credential event, and packet generation in chronological order.</p>
+        <div class="activity-log" id="activityFeed"></div>
+      </section>
+    </main>
+  </div>
+
+  <template id="clientRowTemplate">
+    <tr>
+      <td class="client-name"></td>
+      <td class="client-contact"></td>
+      <td class="client-status"></td>
+      <td class="client-attorney"></td>
+      <td class="client-authorization"></td>
+      <td>
+        <div class="table-actions">
+          <button type="button" class="edit">Edit</button>
+          <button type="button" class="delete">Delete</button>
+        </div>
+      </td>
+    </tr>
+  </template>
+
+  <template id="providerRowTemplate">
+    <tr>
+      <td class="provider-name"></td>
+      <td class="provider-contact"></td>
+      <td class="provider-delivery"></td>
+      <td class="provider-processing"></td>
+      <td class="provider-status"></td>
+      <td>
+        <div class="table-actions">
+          <button type="button" class="edit">Edit</button>
+          <button type="button" class="delete">Delete</button>
+        </div>
+      </td>
+    </tr>
+  </template>
 
-      <button id="generateBtn"
-        class="brand-bg text-white px-4 py-2 rounded shadow hover:bg-red-700 transition">
-        Generate Combined PDF
-      </button>
+  <template id="templateCardTemplate">
+    <div class="list-card">
+      <div class="list-card-header">
+        <div>
+          <h4 class="template-name"></h4>
+          <div class="list-card-meta">
+            <span class="template-category data-chip"></span>
+            <span class="template-updated"></span>
+          </div>
+        </div>
+        <div class="table-actions">
+          <button type="button" class="edit">Edit</button>
+          <button type="button" class="delete">Delete</button>
+        </div>
+      </div>
+      <p class="template-preview"></p>
     </div>
+  </template>
 
-    <!-- CLIENTS PAGE -->
-    <div id="clients" class="page hidden">
-      <h2 class="text-2xl font-bold mb-4 brand-red">Client Profiles</h2>
-      <form id="clientForm" class="space-y-2 mb-4">
-        <input type="text" id="cName" placeholder="Full Name" class="border p-2 w-full rounded" />
-        <input type="date" id="cDOB" class="border p-2 w-full rounded" />
-        <input type="text" id="cSSN" placeholder="SSN" class="border p-2 w-full rounded" />
-        <input type="date" id="cInjury" class="border p-2 w-full rounded" />
-        <button type="button" onclick="saveClient()"
-          class="brand-bg text-white px-4 py-2 rounded">Save Client</button>
-      </form>
-      <ul id="clientList" class="list-disc pl-6 text-gray-700"></ul>
+  <template id="activityEntryTemplate">
+    <div class="activity-entry">
+      <strong class="activity-title"></strong>
+      <span class="activity-meta"></span>
+      <p class="activity-body"></p>
     </div>
+  </template>
 
-    <!-- PROVIDERS PAGE -->
-    <div id="providers" class="page hidden">
-      <h2 class="text-2xl font-bold mb-4 brand-red">Provider Profiles</h2>
-      <form id="provForm" class="space-y-2 mb-4">
-        <input type="text" id="pName" placeholder="Provider Name" class="border p-2 w-full rounded" />
-        <textarea id="pAddress" placeholder="Address" class="border p-2 w-full rounded"></textarea>
-        <input type="text" id="pFax" placeholder="Fax" class="border p-2 w-full rounded" />
-        <input type="text" id="pEmail" placeholder="Email" class="border p-2 w-full rounded" />
-        <button type="button" onclick="saveProvider()"
-          class="brand-bg text-white px-4 py-2 rounded">Save Provider</button>
-      </f
-    <!-- ===== TEMPLATES PAGE ===== -->
-    <div id="templates" class="page hidden">
-      <h2 class="text-2xl font-bold mb-4 brand-red">Templates</h2>
-      <p class="text-gray-700 mb-2">
-        Upload or update your HIPAA PDF and Letter templates. They’re saved in your browser.
-      </p>
-      <div class="space-y-3">
-        <input type="file" id="hipaaFile" accept=".pdf" class="border p-2 w-full rounded" />
-        <input type="file" id="letterFile" accept=".doc,.docx,.wpd,.pdf" class="border p-2 w-full rounded" />
-        <button type="button" onclick="saveTemplates()"
-          class="brand-bg text-white px-4 py-2 rounded">Save Templates</button>
+  <template id="timelineItemTemplate">
+    <div class="timeline-item">
+      <strong class="timeline-title"></strong>
+      <span class="timeline-meta"></span>
+      <p class="timeline-body"></p>
+    </div>
+  </template>
+
+  <template id="toastTemplate">
+    <div class="toast">
+      <strong class="toast-title"></strong>
+      <span class="toast-body"></span>
+    </div>
+  </template>
+
+  <dialog id="checklistDialog">
+    <div class="panel" style="max-width:720px;">
+      <h2>Compliance Checklist</h2>
+      <div class="activity-log" id="checklistItems"></div>
+      <div class="status-bar">
+        <span>Review this checklist before sending any packet.</span>
+        <button class="primary-btn" id="closeChecklist">Close</button>
       </div>
     </div>
+  </dialog>
 
-    <!-- ===== SETTINGS PAGE ===== -->
-    <div id="settings" class="page hidden">
-      <h2 class="text-2xl font-bold mb-4 brand-red">Settings & Account</h2>
-      <p class="text-gray-700 mb-3">Manage your account and clear local data.</p>
-      <div class="space-y-2">
-        <button class="brand-bg text-white px-4 py-2 rounded" onclick="logout()">Log Out</button>
-        <button class="bg-gray-600 text-white px-4 py-2 rounded" onclick="clearAll()">Clear All Local Data</button>
+  <dialog id="quickAddDialog">
+    <div class="panel" style="max-width:680px;">
+      <h2>Quick Add</h2>
+      <p class="lead">Capture a client and provider simultaneously to accelerate packet creation.</p>
+      <div class="grid-two">
+        <form class="form-card" id="quickAddClient">
+          <h3>Client</h3>
+          <div class="input-field">
+            <label for="quickClientName">Full Name</label>
+            <input type="text" id="quickClientName" required />
+          </div>
+          <div class="input-field">
+            <label for="quickClientEmail">Email</label>
+            <input type="email" id="quickClientEmail" required />
+          </div>
+          <div class="input-field">
+            <label for="quickClientPhone">Phone</label>
+            <input type="tel" id="quickClientPhone" required />
+          </div>
+          <div class="input-field">
+            <label for="quickClientAuthorization">Authorization Date</label>
+            <input type="date" id="quickClientAuthorization" />
+          </div>
+        </form>
+        <form class="form-card" id="quickAddProvider">
+          <h3>Provider</h3>
+          <div class="input-field">
+            <label for="quickProviderName">Name</label>
+            <input type="text" id="quickProviderName" required />
+          </div>
+          <div class="input-field">
+            <label for="quickProviderFax">Fax</label>
+            <input type="text" id="quickProviderFax" />
+          </div>
+          <div class="input-field">
+            <label for="quickProviderAddress">Address</label>
+            <textarea id="quickProviderAddress" rows="3" required></textarea>
+          </div>
+        </form>
+      </div>
+      <div class="status-bar">
+        <span id="quickAddStatus">Provide at least client and provider names to save.</span>
+        <div>
+          <button class="secondary-btn" id="cancelQuickAdd">Cancel</button>
+          <button class="primary-btn" id="saveQuickAdd">Save Both</button>
+        </div>
       </div>
     </div>
-  </section>
-</main>
-
-<!-- ===== LOGIN / SIGNUP OVERLAY ===== -->
-<div id="authOverlay" class="fixed inset-0 bg-gray-100 flex items-center justify-center z-50">
-  <div class="bg-white p-8 rounded shadow-lg w-80 border border-gray-300">
-    <h2 id="authTitle" class="text-xl font-semibold mb-4 text-center brand-red">Login</h2>
-    <input type="email" id="authEmail" placeholder="Email" class="border p-2 w-full mb-2 rounded" />
-    <input type="password" id="authPass" placeholder="Password" class="border p-2 w-full mb-2 rounded" />
-    <button onclick="authAction()" class="brand-bg text-white px-4 py-2 rounded w-full">Login</button>
-    <p id="authToggle" class="text-center text-red-700 text-sm mt-3 cursor-pointer" onclick="toggleAuth()">Need an account? Sign up</p>
-  </div>
-</div>
-
-<!-- ===== JAVASCRIPT LOGIC ===== -->
-<script>
-let isSignup = false;
-
-/* ---------- AUTH ---------- */
-function toggleAuth(){
-  isSignup = !isSignup;
-  document.getElementById('authTitle').innerText = isSignup ? 'Sign Up' : 'Login';
-  document.querySelector('#authOverlay button').innerText = isSignup ? 'Sign Up' : 'Login';
-  document.getElementById('authToggle').innerText = isSignup
-    ? 'Already have an account? Login' : 'Need an account? Sign up';
-}
-
-function authAction(){
-  const email = authEmail.value.trim();
-  const pass  = authPass.value.trim();
-  if(!email || !pass) return alert('Enter email and password');
-  const users = JSON.parse(localStorage.getItem('users') || '{}');
-
-  if(isSignup){
-    if(users[email]) return alert('User exists');
-    users[email] = { password: pass };
-    localStorage.setItem('users', JSON.stringify(users));
-    alert('Account created');
-    toggleAuth();
-  } else {
-    if(!users[email] || users[email].password !== pass)
-      return alert('Invalid credentials');
-    localStorage.setItem('currentUser', email);
-    document.getElementById('authOverlay').classList.add('hidden');
-    userArea.innerText = email;
-  }
-}
-
-function logout(){
-  localStorage.removeItem('currentUser');
-  location.reload();
-}
-
-window.onload = ()=>{
-  const user = localStorage.getItem('currentUser');
-  if(user){
-    authOverlay.classList.add('hidden');
-    userArea.innerText = user;
-  }
-  renderClients();
-  renderProviders();
-};
-
-/* ---------- NAVIGATION ---------- */
-function showPage(id){
-  document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
-  document.getElementById(id).classList.remove('hidden');
-}
-
-/* ---------- CLIENTS ---------- */
-function saveClient(){
-  const c = {
-    name: cName.value,
-    dob: cDOB.value,
-    ssn: cSSN.value,
-    inj: cInjury.value
-  };
-  if(!c.name) return alert('Enter client name');
-  let list = JSON.parse(localStorage.getItem('clients') || '[]');
-  list.push(c);
-  localStorage.setItem('clients', JSON.stringify(list));
-  cName.value = cDOB.value = cSSN.value = cInjury.value = '';
-  renderClients();
-}
-
-function renderClients(){
-  const ul = clientList;
-  ul.innerHTML = '';
-  const clients = JSON.parse(localStorage.getItem('clients') || '[]');
-  clients.forEach(c=>{
-    const li = document.createElement('li');
-    li.textContent = `${c.name} (DOB: ${c.dob})`;
-    ul.appendChild(li);
-  });
-  const select = dashClient;
-  if(select){
-    select.innerHTML = '<option value="">Select Client</option>';
-    clients.forEach((c,i)=>{
-      const opt = document.createElement('option');
-      opt.value = i; opt.textContent = c.name;
-      select.appendChild(opt);
-    });
-  }
-}
-
-/* ---------- PROVIDERS ---------- */
-function saveProvider(){
-  const p = {
-    name: pName.value,
-    address: pAddress.value,
-    fax: pFax.value,
-    email: pEmail.value
-  };
-  if(!p.name) return alert('Enter provider name');
-  let list = JSON.parse(localStorage.getItem('providers') || '[]');
-  list.push(p);
-  localStorage.setItem('providers', JSON.stringify(list));
-  pName.value = pAddress.value = pFax.value = pEmail.value = '';
-  renderProviders();
-}
-
-function renderProviders(){
-  const ul = provList;
-  ul.innerHTML = '';
-  const provs = JSON.parse(localStorage.getItem('providers') || '[]');
-  provs.forEach(p=>{
-    const li = document.createElement('li');
-    li.textContent = `${p.name} – ${p.address}`;
-    ul.appendChild(li);
-  });
-  const select = dashProvider;
-  if(select){
-    select.innerHTML = '<option value="">Select Provider</option>';
-    provs.forEach((p,i)=>{
-      const opt = document.createElement('option');
-      opt.value = i; opt.textContent = p.name;
-      select.appendChild(opt);
-    });
-  }
-}
-
-/* ---------- TEMPLATES ---------- */
-function saveTemplates(){
-  const hipaa = hipaaFile.files[0];
-  const letter = letterFile.files[0];
-  if(!hipaa || !letter) return alert('Select both files');
-  const reader1 = new FileReader();
-  reader1.onload = e=>{
-    localStorage.setItem('hipaaTemplate', e.target.result);
-  };
-  reader1.readAsDataURL(hipaa);
-  const reader2 = new FileReader();
-  reader2.onload = e=>{
-    localStorage.setItem('letterTemplate', e.target.result);
-  };
-  reader2.readAsDataURL(letter);
-  alert('Templates saved locally');
-}
-
-/* ---------- CLEAR DATA ---------- */
-function clearAll(){
-  if(confirm('Delete all local data?')){
-    localStorage.clear();
-    location.reload();
-  }
-}
-/* ---------- PDF GENERATION ---------- */
-async function generatePDF(){
-  const clients = JSON.parse(localStorage.getItem('clients') || '[]');
-  const provs   = JSON.parse(localStorage.getItem('providers') || '[]');
-  const cIndex  = dashClient.value;
-  const pIndex  = dashProvider.value;
-  if(cIndex==='' || pIndex===''){ alert('Select a client and provider'); return; }
-  const client  = clients[cIndex];
-  const prov    = provs[pIndex];
-
-  const hipaaData  = localStorage.getItem('hipaaTemplate');
-  const letterData = localStorage.getItem('letterTemplate');
-  if(!hipaaData || !letterData){
-    alert('Upload templates first under Templates tab');
-    return;
-  }
-
-  const hipaaBytes  = await fetch(hipaaData).then(r=>r.arrayBuffer());
-  const letterBytes = await fetch(letterData).then(r=>r.arrayBuffer());
-  const hipaaPdf  = await PDFLib.PDFDocument.load(hipaaBytes);
-  const letterPdf = await PDFLib.PDFDocument.load(letterBytes);
-
-  const mergedPdf = await PDFLib.PDFDocument.create();
-  const [hipaaPages]  = await mergedPdf.copyPages(hipaaPdf,  hipaaPdf.getPageIndices());
-  const [letterPages] = await mergedPdf.copyPages(letterPdf, letterPdf.getPageIndices());
-  hipaaPages.forEach(p => mergedPdf.addPage(p));
-  letterPages.forEach(p => mergedPdf.addPage(p));
-
-  const firstPage = mergedPdf.getPage(0);
-  const { width, height } = firstPage.getSize();
-  const font = await mergedPdf.embedFont(PDFLib.StandardFonts.Helvetica);
-  const drawText = (text, x, y, size=10)=>{
-    firstPage.drawText(text || '', { x, y, size, font, color: PDFLib.rgb(0.2,0.2,0.2) });
-  };
-
-  drawText(`Patient: ${client.name}`, 50, height-80);
-  drawText(`DOB: ${client.dob}`, 50, height-95);
-  drawText(`SSN: ${client.ssn}`, 50, height-110);
-  drawText(`Injury Date: ${client.inj}`, 50, height-125);
-  drawText(`Provider: ${prov.name}`, 50, height-155);
-  drawText(`Address: ${prov.address}`, 50, height-170);
-  drawText(`Fax: ${prov.fax || 'N/A'}`, 50, height-185);
-  drawText(`Email: ${prov.email || 'N/A'}`, 50, height-200);
-  drawText(`Generated: ${new Date().toLocaleDateString()}`, 50, height-230);
-
-  const pdfBytes = await mergedPdf.save();
-  const filename = `${client.name.replace(/\s+/g,'_')}_${prov.name.replace(/\s+/g,'_')}_RecordsRequest.pdf`;
-  saveAs(new Blob([pdfBytes], {type:'application/pdf'}), filename);
-}
-
-generateBtn.addEventListener('click', generatePDF);
-</script>
+  </dialog>
+
+  <script src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
+  <script>
+    const $ = (selector, scope = document) => scope.querySelector(selector);
+    const $$ = (selector, scope = document) => Array.from(scope.querySelectorAll(selector));
+
+    const formatDate = (value) => {
+      if (!value) return 'Not specified';
+      const date = new Date(value);
+      return date.toLocaleDateString(undefined, {
+        year: 'numeric',
+        month: 'short',
+        day: 'numeric',
+      });
+    };
+
+    const formatPhone = (value) => {
+      if (!value) return '—';
+      const digits = value.replace(/\D/g, '');
+      if (digits.length === 10) {
+        return `(${digits.slice(0, 3)}) ${digits.slice(3, 6)}-${digits.slice(6)}`;
+      }
+      return value;
+    };
+
+    const randomId = () => Math.random().toString(36).slice(2, 10);
+
+    const debounce = (fn, wait = 250) => {
+      let timeout;
+      return (...args) => {
+        clearTimeout(timeout);
+        timeout = setTimeout(() => fn(...args), wait);
+      };
+    };
+
+    class LocalDatabase {
+      constructor(namespace) {
+        this.namespace = namespace;
+        this.state = {
+          users: [],
+          session: null,
+          clients: [],
+          providers: [],
+          templates: [],
+          activity: [],
+          settings: {
+            organization: 'Medical Correspondence Group',
+            signature: 'Sincerely,\nMedical Correspondence Team',
+            placeholderDelimiter: ['{{', '}}'],
+            activityRetention: 90,
+          },
+        };
+        this.load();
+      }
+
+      load() {
+        try {
+          const raw = localStorage.getItem(this.namespace);
+          if (raw) {
+            const parsed = JSON.parse(raw);
+            this.state = Object.assign(this.state, parsed);
+          }
+        } catch (error) {
+          console.error('Failed to load workspace state', error);
+        }
+        if (!this.state.users.length) {
+          this.state.users.push({
+            id: randomId(),
+            name: 'Administrator',
+            email: 'admin@workspace.test',
+            password: 'SecurePortal!24',
+            role: 'Administrator',
+            createdAt: new Date().toISOString(),
+          });
+        }
+        if (!this.state.activity.length) {
+          this.log('Workspace initialized', 'System', 'Default data prepared for first-time use.');
+        }
+        this.save();
+      }
+
+      save() {
+        try {
+          localStorage.setItem(this.namespace, JSON.stringify(this.state));
+        } catch (error) {
+          console.error('Failed to persist workspace state', error);
+        }
+      }
+
+      log(title, actor, body) {
+        this.state.activity.unshift({
+          id: randomId(),
+          title,
+          actor,
+          body,
+          timestamp: new Date().toISOString(),
+        });
+        this.save();
+      }
+
+      get users() {
+        return this.state.users;
+      }
+
+      set session(value) {
+        this.state.session = value;
+        this.save();
+      }
+
+      get session() {
+        return this.state.session;
+      }
+
+      upsertUser(user) {
+        const existing = this.state.users.find((entry) => entry.email === user.email);
+        if (existing) {
+          Object.assign(existing, user);
+        } else {
+          this.state.users.push(Object.assign({ id: randomId(), createdAt: new Date().toISOString() }, user));
+        }
+        this.save();
+      }
+
+      get clients() {
+        return this.state.clients;
+      }
+
+      set clients(value) {
+        this.state.clients = value;
+        this.save();
+      }
+
+      get providers() {
+        return this.state.providers;
+      }
+
+      set providers(value) {
+        this.state.providers = value;
+        this.save();
+      }
+
+      get templates() {
+        return this.state.templates;
+      }
+
+      set templates(value) {
+        this.state.templates = value;
+        this.save();
+      }
+
+      get settings() {
+        return this.state.settings;
+      }
+
+      set settings(value) {
+        this.state.settings = value;
+        this.save();
+      }
+    }
+
+    class ToastManager {
+      constructor(container) {
+        this.container = container;
+      }
+
+      show(title, message, timeout = 4000) {
+        const template = $('#toastTemplate');
+        const toast = template.content.firstElementChild.cloneNode(true);
+        $('.toast-title', toast).textContent = title;
+        $('.toast-body', toast).textContent = message;
+        this.container.appendChild(toast);
+        setTimeout(() => {
+          toast.classList.add('hide');
+          toast.addEventListener('transitionend', () => toast.remove(), { once: true });
+        }, timeout);
+      }
+    }
+
+    class ActivityRenderer {
+      constructor({ timelineFeed, activityFeed, packetActivity, securityActions, complianceChecklist, checklistItems }) {
+        this.timelineFeed = timelineFeed;
+        this.activityFeed = activityFeed;
+        this.packetActivity = packetActivity;
+        this.securityActions = securityActions;
+        this.complianceChecklist = complianceChecklist;
+        this.checklistItems = checklistItems;
+      }
+
+      renderTimeline(entries) {
+        this.timelineFeed.innerHTML = '';
+        const template = $('#timelineItemTemplate');
+        entries.slice(0, 8).forEach((entry) => {
+          const node = template.content.firstElementChild.cloneNode(true);
+          $('.timeline-title', node).textContent = entry.title;
+          $('.timeline-meta', node).textContent = new Date(entry.timestamp).toLocaleString();
+          $('.timeline-body', node).textContent = entry.body;
+          this.timelineFeed.appendChild(node);
+        });
+      }
+
+      renderActivity(entries) {
+        this.activityFeed.innerHTML = '';
+        const template = $('#activityEntryTemplate');
+        entries.forEach((entry) => {
+          const node = template.content.firstElementChild.cloneNode(true);
+          $('.activity-title', node).textContent = `${entry.title} — ${entry.actor}`;
+          $('.activity-meta', node).textContent = new Date(entry.timestamp).toLocaleString();
+          $('.activity-body', node).textContent = entry.body;
+          this.activityFeed.appendChild(node);
+        });
+      }
+
+      renderPacketActivity(entries) {
+        this.packetActivity.innerHTML = '';
+        entries
+          .filter((entry) => entry.title.includes('Packet'))
+          .slice(0, 10)
+          .forEach((entry) => {
+            const node = $('#activityEntryTemplate').content.firstElementChild.cloneNode(true);
+            $('.activity-title', node).textContent = entry.title;
+            $('.activity-meta', node).textContent = `${entry.actor} • ${new Date(entry.timestamp).toLocaleString()}`;
+            $('.activity-body', node).textContent = entry.body;
+            this.packetActivity.appendChild(node);
+          });
+      }
+
+      renderSecurity(users) {
+        this.securityActions.innerHTML = '';
+        users.forEach((user) => {
+          const node = document.createElement('div');
+          node.className = 'activity-entry';
+          node.innerHTML = `<strong>${user.name}</strong><span>${user.email}</span><p>Role: ${user.role}</p>`;
+          this.securityActions.appendChild(node);
+        });
+      }
+
+      renderChecklist(items) {
+        this.complianceChecklist.innerHTML = '';
+        items.forEach((item) => {
+          const node = document.createElement('div');
+          node.className = 'activity-entry';
+          node.innerHTML = `<strong>${item.title}</strong><span>${item.description}</span>`;
+          this.complianceChecklist.appendChild(node);
+        });
+        this.checklistItems.innerHTML = '';
+        items.forEach((item) => {
+          const node = document.createElement('div');
+          node.className = 'activity-entry';
+          node.innerHTML = `<strong>${item.title}</strong><p>${item.description}</p>`;
+          this.checklistItems.appendChild(node);
+        });
+      }
+    }
+    class AuthController {
+      constructor(database, { overlay, tabs, forms, hint, nameTarget, emailTarget, avatarTarget }) {
+        this.database = database;
+        this.overlay = overlay;
+        this.tabs = tabs;
+        this.forms = forms;
+        this.hint = hint;
+        this.nameTarget = nameTarget;
+        this.emailTarget = emailTarget;
+        this.avatarTarget = avatarTarget;
+        this.activeTab = 'sign-in';
+        this.bindEvents();
+        this.prefill();
+      }
+
+      bindEvents() {
+        this.tabs.forEach((tab) => {
+          tab.addEventListener('click', () => this.switchTab(tab.dataset.authTab));
+        });
+
+        $('#signInForm').addEventListener('submit', (event) => {
+          event.preventDefault();
+          const email = $('#signInEmail').value.trim();
+          const password = $('#signInPassword').value;
+          const user = this.database.users.find((entry) => entry.email === email && entry.password === password);
+          if (user) {
+            this.database.session = {
+              userId: user.id,
+              signedInAt: new Date().toISOString(),
+            };
+            this.overlay.classList.add('hidden');
+            this.nameTarget.textContent = user.name;
+            this.emailTarget.textContent = user.email;
+            this.avatarTarget.textContent = user.name
+              .split(' ')
+              .map((part) => part[0] || '')
+              .join('')
+              .slice(0, 2)
+              .toUpperCase();
+            workspace.toast.show('Authenticated', 'Workspace unlocked. Welcome back!');
+            workspace.refresh();
+          } else {
+            workspace.toast.show('Authentication failed', 'Check your email and password, then try again.');
+          }
+        });
+
+        $('#createAccountForm').addEventListener('submit', (event) => {
+          event.preventDefault();
+          const name = $('#createFullName').value.trim();
+          const email = $('#createEmail').value.trim();
+          const password = $('#createPassword').value;
+          const confirm = $('#createConfirmPassword').value;
+          if (!name || !email || !password) {
+            workspace.toast.show('Missing fields', 'Complete all account fields to proceed.');
+            return;
+          }
+          if (password !== confirm) {
+            workspace.toast.show('Password mismatch', 'Ensure password and confirmation match.');
+            return;
+          }
+          if (password.length < 8 || !/[0-9]/.test(password) || !/[A-Za-z]/.test(password)) {
+            workspace.toast.show('Weak password', 'Include at least 8 characters with letters and numbers.');
+            return;
+          }
+          if (this.database.users.some((entry) => entry.email === email)) {
+            workspace.toast.show('Account exists', 'An account already exists for this email.');
+            return;
+          }
+          this.database.upsertUser({ name, email, password, role: 'Staff', createdAt: new Date().toISOString() });
+          this.database.log('Account created', name, `${name} established a new workspace account.`);
+          workspace.toast.show('Account created', 'Sign in with your new credentials.');
+          this.switchTab('sign-in');
+          $('#signInEmail').value = email;
+        });
+
+        $('#recoverPasswordForm').addEventListener('submit', (event) => {
+          event.preventDefault();
+          const email = $('#recoverEmail').value.trim();
+          const user = this.database.users.find((entry) => entry.email === email);
+          if (!user) {
+            workspace.toast.show('Not found', 'No account exists with that email.');
+            return;
+          }
+          const token = `RESET-${randomId().toUpperCase()}`;
+          this.database.log('Password reset issued', user.name, `Temporary token: ${token}`);
+          workspace.toast.show('Reset token generated', `Check the Activity Journal for token ${token}.`);
+          this.switchTab('sign-in');
+        });
+
+        $('#lookupUsernameForm').addEventListener('submit', (event) => {
+          event.preventDefault();
+          const name = $('#lookupName').value.trim().toLowerCase();
+          const user = this.database.users.find((entry) => entry.name.toLowerCase() === name);
+          if (!user) {
+            workspace.toast.show('No match', 'No username found for that name.');
+            return;
+          }
+          workspace.toast.show('Username located', `The email for ${user.name} is ${user.email}.`);
+          this.switchTab('sign-in');
+        });
+      }
+
+      switchTab(tab) {
+        this.activeTab = tab;
+        this.tabs.forEach((btn) => btn.classList.toggle('active', btn.dataset.authTab === tab));
+        this.forms.forEach((form) => form.classList.toggle('hidden', form.dataset.authPanel !== tab));
+      }
+
+      prefill() {
+        $('#signInEmail').value = 'admin@workspace.test';
+        $('#signInPassword').value = 'SecurePortal!24';
+      }
+    }
+
+    class ClientController {
+      constructor(database, templates) {
+        this.database = database;
+        this.templates = templates;
+        this.form = $('#clientForm');
+        this.table = $('#clientTable');
+        this.emptyState = $('#clientEmptyState');
+        this.searchInput = $('#clientSearch');
+        this.viewCount = $('#clientViewCount');
+        this.statusIndicator = $('#clientFormStatus');
+        this.bindEvents();
+        this.render();
+      }
+
+      bindEvents() {
+        this.form.addEventListener('submit', (event) => {
+          event.preventDefault();
+          const formData = new FormData(this.form);
+          const entry = Object.fromEntries(formData.entries());
+          const required = ['clientFirstName', 'clientLastName', 'clientEmail', 'clientPhone', 'clientDob', 'clientAddress'];
+          for (const field of required) {
+            if (!entry[field]) {
+              this.statusIndicator.textContent = 'Complete all required fields before saving.';
+              return;
+            }
+          }
+          const id = this.form.dataset.editing || randomId();
+          const client = {
+            id,
+            firstName: entry.clientFirstName.trim(),
+            lastName: entry.clientLastName.trim(),
+            email: entry.clientEmail.trim(),
+            phone: entry.clientPhone.trim(),
+            dob: entry.clientDob,
+            identifier: entry.clientIdentifier || '',
+            address: entry.clientAddress.trim(),
+            notes: entry.clientNotes || '',
+            authorizationDate: entry.clientAuthorizationDate || '',
+            authorizationScope: entry.clientAuthorizationScope || '',
+            attorney: entry.clientAttorney || '',
+            status: entry.clientStatus,
+            insurance: entry.clientInsurance || '',
+            policy: entry.clientPolicy || '',
+            injuryDate: entry.clientInjuryDate || '',
+            preferredContact: entry.clientPreferredContact,
+            createdAt: new Date().toISOString(),
+          };
+          const clients = this.database.clients.filter((item) => item.id !== id);
+          clients.push(client);
+          this.database.clients = clients;
+          this.database.log('Client saved', workspace.currentUserName(), `${client.firstName} ${client.lastName} profile saved.`);
+          workspace.toast.show('Client saved', `${client.firstName} ${client.lastName} is ready for requests.`);
+          this.form.reset();
+          delete this.form.dataset.editing;
+          this.statusIndicator.textContent = 'Client saved successfully.';
+          this.render();
+          workspace.refresh();
+        });
+
+        this.searchInput.addEventListener(
+          'input',
+          debounce(() => this.render())
+        );
+      }
+
+      render() {
+        const query = this.searchInput.value?.toLowerCase() || '';
+        const clients = this.database.clients
+          .slice()
+          .sort((a, b) => a.lastName.localeCompare(b.lastName))
+          .filter((client) => {
+            if (!query) return true;
+            const haystack = [
+              `${client.firstName} ${client.lastName}`,
+              client.email,
+              client.phone,
+              client.attorney,
+              client.status,
+            ]
+              .join(' ')
+              .toLowerCase();
+            return haystack.includes(query);
+          });
+        this.table.innerHTML = '';
+        const template = $('#clientRowTemplate');
+        clients.forEach((client) => {
+          const row = template.content.firstElementChild.cloneNode(true);
+          $('.client-name', row).textContent = `${client.firstName} ${client.lastName}`;
+          $('.client-contact', row).textContent = `${client.email} • ${formatPhone(client.phone)}`;
+          $('.client-status', row).textContent = client.status;
+          $('.client-attorney', row).textContent = client.attorney || '—';
+          $('.client-authorization', row).textContent = client.authorizationDate
+            ? `${formatDate(client.authorizationDate)} (${client.authorizationScope || 'General'})`
+            : 'Not on file';
+          $('.edit', row).addEventListener('click', () => this.edit(client.id));
+          $('.delete', row).addEventListener('click', () => this.remove(client.id));
+          this.table.appendChild(row);
+        });
+        this.emptyState.classList.toggle('hidden', clients.length > 0);
+        this.viewCount.textContent = `${clients.length} stored`;
+        $('#clientCount').textContent = `${clients.length} Clients`;
+        $('#clientProgress').style.width = `${Math.min(100, clients.length * 10)}%`;
+      }
+
+      edit(id) {
+        const client = this.database.clients.find((entry) => entry.id === id);
+        if (!client) return;
+        this.form.clientFirstName.value = client.firstName;
+        this.form.clientLastName.value = client.lastName;
+        this.form.clientEmail.value = client.email;
+        this.form.clientPhone.value = client.phone;
+        this.form.clientDob.value = client.dob;
+        this.form.clientIdentifier.value = client.identifier;
+        this.form.clientAddress.value = client.address;
+        this.form.clientNotes.value = client.notes;
+        this.form.clientAuthorizationDate.value = client.authorizationDate;
+        this.form.clientAuthorizationScope.value = client.authorizationScope;
+        this.form.clientAttorney.value = client.attorney;
+        this.form.clientStatus.value = client.status;
+        this.form.clientInsurance.value = client.insurance;
+        this.form.clientPolicy.value = client.policy;
+        this.form.clientInjuryDate.value = client.injuryDate;
+        this.form.clientPreferredContact.value = client.preferredContact;
+        this.form.dataset.editing = client.id;
+        this.statusIndicator.textContent = 'Editing existing client. Save to apply changes.';
+      }
+
+      remove(id) {
+        const client = this.database.clients.find((entry) => entry.id === id);
+        if (!client) return;
+        if (!confirm(`Remove client ${client.firstName} ${client.lastName}?`)) return;
+        this.database.clients = this.database.clients.filter((entry) => entry.id !== id);
+        this.database.log('Client removed', workspace.currentUserName(), `${client.firstName} ${client.lastName} removed.`);
+        workspace.toast.show('Client removed', `${client.firstName} ${client.lastName} deleted.`);
+        this.render();
+        workspace.refresh();
+      }
+    }
+
+    class ProviderController {
+      constructor(database) {
+        this.database = database;
+        this.form = $('#providerForm');
+        this.table = $('#providerTable');
+        this.emptyState = $('#providerEmptyState');
+        this.searchInput = $('#providerSearch');
+        this.viewCount = $('#providerViewCount');
+        this.statusIndicator = $('#providerFormStatus');
+        this.bindEvents();
+        this.render();
+      }
+
+      bindEvents() {
+        this.form.addEventListener('submit', (event) => {
+          event.preventDefault();
+          const formData = new FormData(this.form);
+          const entry = Object.fromEntries(formData.entries());
+          const required = ['providerName', 'providerAddress'];
+          for (const field of required) {
+            if (!entry[field]) {
+              this.statusIndicator.textContent = 'Name and address are required.';
+              return;
+            }
+          }
+          const id = this.form.dataset.editing || randomId();
+          const provider = {
+            id,
+            name: entry.providerName.trim(),
+            type: entry.providerType,
+            email: entry.providerEmail || '',
+            phone: entry.providerPhone || '',
+            fax: entry.providerFax || '',
+            address: entry.providerAddress.trim(),
+            attention: entry.providerAttention || '',
+            processingTime: Number(entry.providerProcessingTime) || 0,
+            requirements: entry.providerRequirements || '',
+            delivery: entry.providerDelivery,
+            status: entry.providerStatus,
+            portal: entry.providerPortal || '',
+            notes: entry.providerNotes || '',
+            createdAt: new Date().toISOString(),
+          };
+          const providers = this.database.providers.filter((item) => item.id !== id);
+          providers.push(provider);
+          this.database.providers = providers;
+          this.database.log('Provider saved', workspace.currentUserName(), `${provider.name} profile saved.`);
+          workspace.toast.show('Provider saved', `${provider.name} is ready for requests.`);
+          this.form.reset();
+          delete this.form.dataset.editing;
+          this.statusIndicator.textContent = 'Provider saved successfully.';
+          this.render();
+          workspace.refresh();
+        });
+
+        this.searchInput.addEventListener(
+          'input',
+          debounce(() => this.render())
+        );
+      }
+
+      render() {
+        const query = this.searchInput.value?.toLowerCase() || '';
+        const providers = this.database.providers
+          .slice()
+          .sort((a, b) => a.name.localeCompare(b.name))
+          .filter((provider) => {
+            if (!query) return true;
+            const haystack = [
+              provider.name,
+              provider.email,
+              provider.fax,
+              provider.delivery,
+              provider.status,
+              provider.requirements,
+            ]
+              .join(' ')
+              .toLowerCase();
+            return haystack.includes(query);
+          });
+        this.table.innerHTML = '';
+        const template = $('#providerRowTemplate');
+        providers.forEach((provider) => {
+          const row = template.content.firstElementChild.cloneNode(true);
+          $('.provider-name', row).textContent = provider.name;
+          const contacts = [provider.email, formatPhone(provider.phone), provider.fax ? `Fax: ${provider.fax}` : '']
+            .filter(Boolean)
+            .join(' • ');
+          $('.provider-contact', row).textContent = contacts || '—';
+          $('.provider-delivery', row).textContent = provider.delivery;
+          $('.provider-processing', row).textContent = provider.processingTime ? `${provider.processingTime} days` : '—';
+          $('.provider-status', row).textContent = provider.status;
+          $('.edit', row).addEventListener('click', () => this.edit(provider.id));
+          $('.delete', row).addEventListener('click', () => this.remove(provider.id));
+          this.table.appendChild(row);
+        });
+        this.emptyState.classList.toggle('hidden', providers.length > 0);
+        this.viewCount.textContent = `${providers.length} stored`;
+        $('#providerCount').textContent = `${providers.length} Providers`;
+        $('#providerProgress').style.width = `${Math.min(100, providers.length * 10)}%`;
+      }
+
+      edit(id) {
+        const provider = this.database.providers.find((entry) => entry.id === id);
+        if (!provider) return;
+        this.form.providerName.value = provider.name;
+        this.form.providerType.value = provider.type;
+        this.form.providerEmail.value = provider.email;
+        this.form.providerPhone.value = provider.phone;
+        this.form.providerFax.value = provider.fax;
+        this.form.providerAddress.value = provider.address;
+        this.form.providerAttention.value = provider.attention;
+        this.form.providerProcessingTime.value = provider.processingTime;
+        this.form.providerRequirements.value = provider.requirements;
+        this.form.providerDelivery.value = provider.delivery;
+        this.form.providerStatus.value = provider.status;
+        this.form.providerPortal.value = provider.portal;
+        this.form.providerNotes.value = provider.notes;
+        this.form.dataset.editing = provider.id;
+        this.statusIndicator.textContent = 'Editing existing provider. Save to apply changes.';
+      }
+
+      remove(id) {
+        const provider = this.database.providers.find((entry) => entry.id === id);
+        if (!provider) return;
+        if (!confirm(`Remove provider ${provider.name}?`)) return;
+        this.database.providers = this.database.providers.filter((entry) => entry.id !== id);
+        this.database.log('Provider removed', workspace.currentUserName(), `${provider.name} removed.`);
+        workspace.toast.show('Provider removed', `${provider.name} deleted.`);
+        this.render();
+        workspace.refresh();
+      }
+    }
+    class TemplateController {
+      constructor(database) {
+        this.database = database;
+        this.form = $('#templateForm');
+        this.list = $('#templateList');
+        this.emptyState = $('#templateEmptyState');
+        this.searchInput = $('#templateSearch');
+        this.viewCount = $('#templateViewCount');
+        this.statusIndicator = $('#templateFormStatus');
+        this.toolbarButtons = $$('.editor-toolbar button');
+        this.resetButton = $('#resetTemplate');
+        this.bindEvents();
+        this.render();
+        this.seedDefaults();
+      }
+
+      bindEvents() {
+        this.toolbarButtons.forEach((button) => {
+          button.addEventListener('click', () => {
+            const insert = button.dataset.insert;
+            const textarea = $('#templateBody');
+            const start = textarea.selectionStart;
+            const end = textarea.selectionEnd;
+            const value = textarea.value;
+            textarea.value = value.slice(0, start) + insert + value.slice(end);
+            textarea.focus();
+            textarea.selectionStart = textarea.selectionEnd = start + insert.length;
+            this.statusIndicator.textContent = `Inserted placeholder ${insert}.`;
+          });
+        });
+
+        this.resetButton.addEventListener('click', () => {
+          this.form.reset();
+          this.statusIndicator.textContent = 'Template form cleared.';
+        });
+
+        this.form.addEventListener('submit', (event) => {
+          event.preventDefault();
+          const formData = new FormData(this.form);
+          const entry = Object.fromEntries(formData.entries());
+          if (!entry.templateName || !entry.templateBody) {
+            this.statusIndicator.textContent = 'Template name and body required.';
+            return;
+          }
+          const id = this.form.dataset.editing || randomId();
+          const template = {
+            id,
+            name: entry.templateName.trim(),
+            category: entry.templateCategory,
+            body: entry.templateBody,
+            updatedAt: new Date().toISOString(),
+          };
+          const templates = this.database.templates.filter((item) => item.id !== id);
+          templates.push(template);
+          this.database.templates = templates;
+          this.database.log('Template saved', workspace.currentUserName(), `${template.name} updated.`);
+          workspace.toast.show('Template saved', `${template.name} ready for merging.`);
+          this.form.reset();
+          delete this.form.dataset.editing;
+          this.render();
+          workspace.refresh();
+        });
+
+        this.searchInput.addEventListener(
+          'input',
+          debounce(() => this.render())
+        );
+      }
+
+      seedDefaults() {
+        if (this.database.templates.length) return;
+        const defaults = [
+          {
+            name: 'HIPAA Authorization',
+            category: 'HIPAA',
+            body: `HIPAA AUTHORIZATION\n\nPatient: {{client.fullName}}\nDate of Birth: {{client.dob}}\nAuthorization Date: {{client.authorizationDate}}\n\nI, {{client.fullName}}, authorize {{workspace.organization}} to request medical records from {{provider.name}} for the period defined as {{client.authorizationScope}}.\n\nSignature:\n{{client.fullName}}\n{{today}}\n\n{{workspace.signature}}`,
+          },
+          {
+            name: 'Medical Records Request',
+            category: 'Medical Request',
+            body: `{{today}}\n\n{{provider.name}}\n{{provider.address}}\n\nAttention: {{provider.attention}}\n\nRe: {{client.fullName}} (DOB: {{client.dob}})\n\nPlease provide a complete copy of medical records for the above patient covering {{client.authorizationScope}}. Records may be delivered via {{provider.delivery}}.\n\nAttached: HIPAA authorization signed {{client.authorizationDate}}.\n\n{{workspace.signature}}`,
+          },
+        ];
+        defaults.forEach((entry) => {
+          this.database.templates.push({
+            id: randomId(),
+            name: entry.name,
+            category: entry.category,
+            body: entry.body,
+            updatedAt: new Date().toISOString(),
+          });
+        });
+        this.database.save();
+        this.render();
+      }
+
+      render() {
+        const query = this.searchInput.value?.toLowerCase() || '';
+        const templates = this.database.templates
+          .slice()
+          .sort((a, b) => a.name.localeCompare(b.name))
+          .filter((template) => {
+            if (!query) return true;
+            const haystack = [template.name, template.category, template.body].join(' ').toLowerCase();
+            return haystack.includes(query);
+          });
+        this.list.innerHTML = '';
+        const templateEl = $('#templateCardTemplate');
+        templates.forEach((template) => {
+          const node = templateEl.content.firstElementChild.cloneNode(true);
+          $('.template-name', node).textContent = template.name;
+          $('.template-category', node).textContent = template.category;
+          $('.template-updated', node).textContent = `Updated ${formatDate(template.updatedAt)}`;
+          $('.template-preview', node).textContent = template.body.slice(0, 240) + (template.body.length > 240 ? '…' : '');
+          $('.edit', node).addEventListener('click', () => this.edit(template.id));
+          $('.delete', node).addEventListener('click', () => this.remove(template.id));
+          this.list.appendChild(node);
+        });
+        this.emptyState.classList.toggle('hidden', templates.length > 0);
+        this.viewCount.textContent = `${templates.length} stored`;
+        $('#templateCount').textContent = `${templates.length} Templates`;
+        $('#templateProgress').style.width = `${Math.min(100, templates.length * 20)}%`;
+      }
+
+      edit(id) {
+        const template = this.database.templates.find((entry) => entry.id === id);
+        if (!template) return;
+        this.form.templateName.value = template.name;
+        this.form.templateCategory.value = template.category;
+        this.form.templateBody.value = template.body;
+        this.form.dataset.editing = template.id;
+        this.statusIndicator.textContent = 'Editing template. Save to apply changes.';
+      }
+
+      remove(id) {
+        const template = this.database.templates.find((entry) => entry.id === id);
+        if (!template) return;
+        if (!confirm(`Delete template ${template.name}?`)) return;
+        this.database.templates = this.database.templates.filter((entry) => entry.id !== id);
+        this.database.log('Template removed', workspace.currentUserName(), `${template.name} deleted.`);
+        workspace.toast.show('Template removed', `${template.name} deleted.`);
+        this.render();
+        workspace.refresh();
+      }
+    }
+
+    class GeneratorController {
+      constructor(database) {
+        this.database = database;
+        this.clientSelect = $('#generatorClient');
+        this.providerSelect = $('#generatorProvider');
+        this.templatesSelect = $('#generatorTemplates');
+        this.notesInput = $('#generatorNotes');
+        this.preview = $('#mergePreview');
+        this.previewStatus = $('#previewStatus');
+        this.downloadButton = $('#downloadPacket');
+        this.generateButton = $('#generatePacket');
+        this.statusIndicator = $('#generatorFormStatus');
+        this.loadingIndicator = $('#generatorLoading');
+        this.activityLog = $('#packetActivity');
+        this.bindEvents();
+        this.render();
+      }
+
+      bindEvents() {
+        this.generateButton.addEventListener('click', () => this.generate());
+        this.downloadButton.addEventListener('click', () => this.download());
+        [this.clientSelect, this.providerSelect, this.templatesSelect].forEach((element) => {
+          element.addEventListener('change', () => this.updatePreview());
+        });
+        this.notesInput.addEventListener('input', debounce(() => this.updatePreview()));
+      }
+
+      render() {
+        this.clientSelect.innerHTML = '<option value="">Select a client</option>';
+        this.database.clients
+          .slice()
+          .sort((a, b) => a.lastName.localeCompare(b.lastName))
+          .forEach((client) => {
+            const option = document.createElement('option');
+            option.value = client.id;
+            option.textContent = `${client.firstName} ${client.lastName}`;
+            this.clientSelect.appendChild(option);
+          });
+
+        this.providerSelect.innerHTML = '<option value="">Select a provider</option>';
+        this.database.providers
+          .slice()
+          .sort((a, b) => a.name.localeCompare(b.name))
+          .forEach((provider) => {
+            const option = document.createElement('option');
+            option.value = provider.id;
+            option.textContent = provider.name;
+            this.providerSelect.appendChild(option);
+          });
+
+        this.templatesSelect.innerHTML = '';
+        this.database.templates
+          .slice()
+          .sort((a, b) => a.name.localeCompare(b.name))
+          .forEach((template) => {
+            const option = document.createElement('option');
+            option.value = template.id;
+            option.textContent = `${template.name} (${template.category})`;
+            this.templatesSelect.appendChild(option);
+          });
+        this.updatePreview();
+      }
+
+      getSelectedClient() {
+        const id = this.clientSelect.value;
+        return this.database.clients.find((entry) => entry.id === id) || null;
+      }
+
+      getSelectedProvider() {
+        const id = this.providerSelect.value;
+        return this.database.providers.find((entry) => entry.id === id) || null;
+      }
+
+      getSelectedTemplates() {
+        return Array.from(this.templatesSelect.selectedOptions)
+          .map((option) => this.database.templates.find((template) => template.id === option.value))
+          .filter(Boolean);
+      }
+
+      merge(template, client, provider) {
+        const [open, close] = this.database.settings.placeholderDelimiter;
+        const placeholders = {
+          '{{client.fullName}}': `${client.firstName} ${client.lastName}`,
+          '{{client.address}}': client.address,
+          '{{client.authorizationDate}}': formatDate(client.authorizationDate),
+          '{{client.authorizationScope}}': client.authorizationScope || 'Complete medical history',
+          '{{client.dob}}': formatDate(client.dob),
+          '{{client.identifier}}': client.identifier || 'N/A',
+          '{{client.attorney}}': client.attorney || this.database.settings.organization,
+          '{{provider.name}}': provider.name,
+          '{{provider.address}}': provider.address,
+          '{{provider.attention}}': provider.attention || 'Medical Records Department',
+          '{{provider.delivery}}': provider.delivery,
+          '{{provider.processingTime}}': provider.processingTime ? `${provider.processingTime} days` : 'Varies',
+          '{{workspace.user}}': workspace.currentUserName(),
+          '{{workspace.organization}}': this.database.settings.organization,
+          '{{workspace.signature}}': this.database.settings.signature,
+          '{{today}}': formatDate(new Date()),
+        };
+        let body = template.body;
+        Object.entries(placeholders).forEach(([key, value]) => {
+          const pattern = new RegExp(key.replace(/[{}]/g, (char) => `\\${char}`), 'g');
+          body = body.replace(pattern, value);
+        });
+        if (open !== '{{' || close !== '}}') {
+          const dynamicPattern = new RegExp(`${open}\s*(.*?)\s*${close}`, 'g');
+          body = body.replace(dynamicPattern, (_, token) => placeholders[`{{${token}}}`] || '');
+        }
+        return body;
+      }
+
+      updatePreview() {
+        const client = this.getSelectedClient();
+        const provider = this.getSelectedProvider();
+        const templates = this.getSelectedTemplates();
+        if (!client || !provider || !templates.length) {
+          this.preview.textContent = 'Select a client, provider, and at least one template to preview.';
+          this.previewStatus.textContent = 'Awaiting packet configuration.';
+          this.downloadButton.disabled = true;
+          $('#generatorStatus').textContent = 'Waiting';
+          return;
+        }
+        const merged = templates
+          .map((template) => `=== ${template.name} (${template.category}) ===\n\n${this.merge(template, client, provider)}`)
+          .join('\n\n\f\n\n');
+        const notes = this.notesInput.value.trim();
+        this.preview.textContent = merged + (notes ? `\n\nNotes:\n${notes}` : '');
+        this.previewStatus.textContent = `${templates.length} template(s) merged.`;
+        this.downloadButton.disabled = false;
+        $('#generatorStatus').textContent = 'Ready';
+      }
+
+      async generate() {
+        const client = this.getSelectedClient();
+        const provider = this.getSelectedProvider();
+        const templates = this.getSelectedTemplates();
+        if (!client || !provider || !templates.length) {
+          this.statusIndicator.textContent = 'Provide client, provider, and template selections.';
+          workspace.toast.show('Selection required', 'Choose the data to build a packet.');
+          return;
+        }
+        this.loadingIndicator.classList.add('active');
+        this.generateButton.disabled = true;
+        try {
+          const { PDFDocument, StandardFonts } = PDFLib;
+          const pdfDoc = await PDFDocument.create();
+          const font = await pdfDoc.embedFont(StandardFonts.Helvetica);
+          const pageMargin = 50;
+          const width = 612;
+          const height = 792;
+          const addPageWithText = (title, content) => {
+            const page = pdfDoc.addPage([width, height]);
+            const text = `${title}\n\n${content}`;
+            const lines = wrapText(text, 70);
+            let y = height - pageMargin;
+            lines.forEach((line) => {
+              if (y < pageMargin) {
+                y = height - pageMargin;
+              }
+              page.drawText(line, {
+                x: pageMargin,
+                y,
+                size: 12,
+                font,
+                color: PDFLib.rgb(0.1, 0.16, 0.28),
+              });
+              y -= 18;
+            });
+          };
+          templates.forEach((template) => {
+            const merged = this.merge(template, client, provider);
+            addPageWithText(template.name, merged);
+          });
+          if (this.notesInput.value.trim()) {
+            addPageWithText('Packet Notes', this.notesInput.value.trim());
+          }
+          const bytes = await pdfDoc.save();
+          this.generatedBlob = new Blob([bytes], { type: 'application/pdf' });
+          this.previewStatus.textContent = 'Packet ready for download.';
+          workspace.toast.show('Packet created', `${templates.length} documents compiled for ${client.firstName}.`);
+          workspace.database.log('Packet generated', workspace.currentUserName(), `${templates.length} documents merged for ${client.firstName} ${client.lastName}.`);
+          workspace.refreshActivity();
+          this.downloadButton.disabled = false;
+        } catch (error) {
+          console.error(error);
+          workspace.toast.show('Generation failed', 'Check console for error details.');
+        } finally {
+          this.loadingIndicator.classList.remove('active');
+          this.generateButton.disabled = false;
+        }
+      }
+
+      download() {
+        if (!this.generatedBlob) {
+          workspace.toast.show('Nothing to download', 'Generate a packet first.');
+          return;
+        }
+        const url = URL.createObjectURL(this.generatedBlob);
+        const link = document.createElement('a');
+        link.href = url;
+        const client = this.getSelectedClient();
+        const provider = this.getSelectedProvider();
+        link.download = `Packet_${client.lastName}_${provider.name.replace(/[^a-z0-9]/gi, '_')}.pdf`;
+        document.body.appendChild(link);
+        link.click();
+        document.body.removeChild(link);
+        URL.revokeObjectURL(url);
+        workspace.toast.show('Packet downloaded', 'PDF saved locally.');
+      }
+    }
+    const wrapText = (text, maxChars) => {
+      const words = text.split(/\s+/);
+      const lines = [];
+      let current = '';
+      words.forEach((word) => {
+        if ((current + ' ' + word).trim().length > maxChars) {
+          lines.push(current.trim());
+          current = word;
+        } else {
+          current += ' ' + word;
+        }
+      });
+      if (current.trim()) lines.push(current.trim());
+      return lines;
+    };
+
+    class DashboardController {
+      constructor(database) {
+        this.database = database;
+        this.dailyReadiness = $('#dailyReadiness');
+        this.upcomingDeadlines = $('#upcomingDeadlines');
+        this.packetHealth = $('#packetHealth');
+        this.complianceTasks = $('#complianceTasks');
+        this.clientMilestones = $('#clientMilestones');
+        this.providerCommunications = $('#providerCommunications');
+        this.operationsKanban = $('#operationsKanban');
+        this.snapshotDate = $('#snapshotDate');
+        this.timelineFeed = $('#timelineFeed');
+        this.tabs = $$('#dashboardTabs button');
+        this.panels = $$('[data-tab-panel]');
+        this.bindEvents();
+        this.render();
+      }
+
+      bindEvents() {
+        this.tabs.forEach((tab) => {
+          tab.addEventListener('click', () => {
+            this.tabs.forEach((button) => button.classList.toggle('active', button === tab));
+            this.panels.forEach((panel) => panel.classList.toggle('hidden', panel.dataset.tabPanel !== tab.dataset.tab));
+          });
+        });
+      }
+
+      render() {
+        this.snapshotDate.textContent = new Date().toLocaleDateString();
+        this.renderTags();
+        this.renderDeadlines();
+        this.renderHealth();
+        this.renderCompliance();
+        this.renderMilestones();
+        this.renderCommunications();
+        this.renderKanban();
+      }
+
+      renderTags() {
+        this.dailyReadiness.innerHTML = '';
+        const metrics = [
+          { label: 'Clients ready', value: this.database.clients.filter((client) => client.status === 'Ready for Request').length },
+          { label: 'Authorizations expiring soon', value: this.database.clients.filter((client) => {
+            if (!client.authorizationDate) return false;
+            const expiry = new Date(client.authorizationDate);
+            expiry.setMonth(expiry.getMonth() + 12);
+            const diff = expiry - Date.now();
+            return diff > 0 && diff < 1000 * 60 * 60 * 24 * 30;
+          }).length },
+          { label: 'Providers requiring follow-up', value: this.database.providers.filter((provider) => provider.status === 'Pending').length },
+        ];
+        metrics.forEach((metric) => {
+          const pill = document.createElement('span');
+          pill.textContent = `${metric.label}: ${metric.value}`;
+          pill.className = 'data-chip';
+          this.dailyReadiness.appendChild(pill);
+        });
+      }
+
+      renderDeadlines() {
+        this.upcomingDeadlines.innerHTML = '';
+        const deadlines = this.database.clients
+          .filter((client) => client.authorizationDate)
+          .map((client) => {
+            const expiry = new Date(client.authorizationDate);
+            expiry.setMonth(expiry.getMonth() + 12);
+            return {
+              title: `${client.firstName} ${client.lastName}`,
+              date: expiry,
+              description: `Authorization expires ${formatDate(expiry)}.`,
+            };
+          })
+          .sort((a, b) => a.date - b.date)
+          .slice(0, 5);
+        deadlines.forEach((deadline) => {
+          const node = document.createElement('div');
+          node.className = 'activity-entry';
+          node.innerHTML = `<strong>${deadline.title}</strong><span>${deadline.description}</span>`;
+          this.upcomingDeadlines.appendChild(node);
+        });
+      }
+
+      renderHealth() {
+        this.packetHealth.innerHTML = '';
+        const segments = [
+          { label: 'Intake', count: this.database.clients.filter((client) => client.status === 'Intake').length },
+          { label: 'Awaiting Authorization', count: this.database.clients.filter((client) => client.status === 'Awaiting Authorization').length },
+          { label: 'Ready', count: this.database.clients.filter((client) => client.status === 'Ready for Request').length },
+          { label: 'Submitted', count: this.database.clients.filter((client) => client.status === 'Request Submitted').length },
+          { label: 'Received', count: this.database.clients.filter((client) => client.status === 'Records Received').length },
+        ];
+        segments.forEach((segment) => {
+          const badge = document.createElement('span');
+          badge.textContent = `${segment.label}: ${segment.count}`;
+          this.packetHealth.appendChild(badge);
+        });
+      }
+
+      renderCompliance() {
+        this.complianceTasks.innerHTML = '';
+        const tasks = [
+          'Verify HIPAA forms signed within the last 12 months.',
+          'Confirm provider fees and payment instructions.',
+          'Ensure contact details match provider requirements.',
+          'Log follow-up attempts for outstanding requests.',
+        ];
+        tasks.forEach((task) => {
+          const node = document.createElement('div');
+          node.className = 'activity-entry';
+          node.innerHTML = `<strong>${task}</strong>`;
+          this.complianceTasks.appendChild(node);
+        });
+      }
+
+      renderMilestones() {
+        this.clientMilestones.innerHTML = '';
+        this.database.clients.forEach((client) => {
+          const node = document.createElement('div');
+          node.className = 'activity-entry';
+          node.innerHTML = `<strong>${client.firstName} ${client.lastName}</strong><span>Status: ${client.status}</span><p>${client.notes || 'No notes recorded.'}</p>`;
+          this.clientMilestones.appendChild(node);
+        });
+      }
+
+      renderCommunications() {
+        this.providerCommunications.innerHTML = '';
+        this.database.providers.forEach((provider) => {
+          const node = document.createElement('div');
+          node.className = 'activity-entry';
+          node.innerHTML = `<strong>${provider.name}</strong><span>Preferred delivery: ${provider.delivery}</span><p>${provider.requirements || 'No special requirements.'}</p>`;
+          this.providerCommunications.appendChild(node);
+        });
+      }
+
+      renderKanban() {
+        this.operationsKanban.innerHTML = '';
+        const columns = [
+          { label: 'Backlog', filter: (client) => client.status === 'Intake' },
+          { label: 'In Progress', filter: (client) => ['Awaiting Authorization', 'Ready for Request'].includes(client.status) },
+          { label: 'Done', filter: (client) => ['Request Submitted', 'Records Received'].includes(client.status) },
+        ];
+        columns.forEach((column) => {
+          const section = document.createElement('div');
+          section.className = 'activity-entry';
+          const items = this.database.clients.filter(column.filter);
+          section.innerHTML = `<strong>${column.label}</strong><span>${items.length} items</span>`;
+          const list = document.createElement('ul');
+          list.style.margin = '0';
+          list.style.paddingLeft = '20px';
+          items.forEach((item) => {
+            const li = document.createElement('li');
+            li.textContent = `${item.firstName} ${item.lastName} (${item.status})`;
+            list.appendChild(li);
+          });
+          section.appendChild(list);
+          this.operationsKanban.appendChild(section);
+        });
+      }
+    }
+
+    class QuickAddController {
+      constructor(database) {
+        this.database = database;
+        this.dialog = $('#quickAddDialog');
+        this.clientForm = $('#quickAddClient');
+        this.providerForm = $('#quickAddProvider');
+        this.status = $('#quickAddStatus');
+        $('#quickAdd').addEventListener('click', () => this.open());
+        $('#cancelQuickAdd').addEventListener('click', () => this.close());
+        $('#saveQuickAdd').addEventListener('click', () => this.save());
+      }
+
+      open() {
+        this.dialog.showModal();
+      }
+
+      close() {
+        this.clientForm.reset();
+        this.providerForm.reset();
+        this.dialog.close();
+      }
+
+      save() {
+        const clientName = $('#quickClientName').value.trim();
+        const clientEmail = $('#quickClientEmail').value.trim();
+        const clientPhone = $('#quickClientPhone').value.trim();
+        const providerName = $('#quickProviderName').value.trim();
+        const providerAddress = $('#quickProviderAddress').value.trim();
+        if (!clientName || !clientEmail || !clientPhone || !providerName || !providerAddress) {
+          this.status.textContent = 'Complete all highlighted fields to save both records.';
+          return;
+        }
+        const [firstName, ...rest] = clientName.split(' ');
+        const lastName = rest.join(' ') || 'Client';
+        this.database.clients.push({
+          id: randomId(),
+          firstName,
+          lastName,
+          email: clientEmail,
+          phone: clientPhone,
+          dob: new Date().toISOString().slice(0, 10),
+          identifier: '',
+          address: 'Address pending',
+          notes: '',
+          authorizationDate: $('#quickClientAuthorization').value || '',
+          authorizationScope: 'Full records',
+          attorney: '',
+          status: 'Intake',
+          insurance: '',
+          policy: '',
+          injuryDate: '',
+          preferredContact: 'Email',
+          createdAt: new Date().toISOString(),
+        });
+        this.database.providers.push({
+          id: randomId(),
+          name: providerName,
+          type: 'Clinic',
+          email: '',
+          phone: '',
+          fax: $('#quickProviderFax').value || '',
+          address: providerAddress,
+          attention: 'Medical Records',
+          processingTime: 14,
+          requirements: '',
+          delivery: 'Fax',
+          status: 'Active',
+          portal: '',
+          notes: '',
+          createdAt: new Date().toISOString(),
+        });
+        this.database.save();
+        this.database.log('Quick add completed', workspace.currentUserName(), `Client ${clientName} and provider ${providerName} created via quick add.`);
+        workspace.toast.show('Quick add saved', 'Client and provider added.');
+        workspace.refresh();
+        this.close();
+      }
+    }
+
+    class ChecklistController {
+      constructor(database) {
+        this.database = database;
+        this.dialog = $('#checklistDialog');
+        this.openButton = $('#openChecklist');
+        this.closeButton = $('#closeChecklist');
+        this.viewButton = $('#viewChecklist');
+        this.items = [
+          { title: 'Verify identity', description: 'Confirm client identity matches authorization signature.' },
+          { title: 'Confirm authorization dates', description: 'Ensure HIPAA release is current and signed.' },
+          { title: 'Attach provider requirements', description: 'Include cover letter or payment forms if required.' },
+          { title: 'Log follow-up', description: 'Document follow-up attempts in the activity journal.' },
+        ];
+        this.bindEvents();
+      }
+
+      bindEvents() {
+        this.openButton.addEventListener('click', () => this.open());
+        this.closeButton.addEventListener('click', () => this.close());
+        this.viewButton.addEventListener('click', () => this.open());
+      }
+
+      open() {
+        this.dialog.showModal();
+        workspace.activityRenderer.renderChecklist(this.items);
+      }
+
+      close() {
+        this.dialog.close();
+      }
+    }
+
+    class WorkspaceApp {
+      constructor() {
+        this.database = new LocalDatabase('medical-correspondence-workspace');
+        this.toast = new ToastManager($('#toastContainer'));
+        this.activityRenderer = new ActivityRenderer({
+          timelineFeed: $('#timelineFeed'),
+          activityFeed: $('#activityFeed'),
+          packetActivity: $('#packetActivity'),
+          securityActions: $('#securityActions'),
+          complianceChecklist: $('#complianceChecklist'),
+          checklistItems: $('#checklistItems'),
+        });
+        this.auth = new AuthController(this.database, {
+          overlay: $('#authOverlay'),
+          tabs: $$('.auth-tabs button'),
+          forms: $$('.auth-form'),
+          hint: $('#signInHint'),
+          nameTarget: $('#userName'),
+          emailTarget: $('#userEmail'),
+          avatarTarget: $('#userAvatar'),
+        });
+        this.clients = new ClientController(this.database);
+        this.providers = new ProviderController(this.database);
+        this.templates = new TemplateController(this.database);
+        this.generator = new GeneratorController(this.database);
+        this.dashboard = new DashboardController(this.database);
+        this.quickAdd = new QuickAddController(this.database);
+        this.checklist = new ChecklistController(this.database);
+        this.sidebar = $('#sidebar');
+        this.navButtons = $$('#sidebarNav button');
+        this.views = {
+          dashboard: $('#dashboardView'),
+          clients: $('#clientsView'),
+          providers: $('#providersView'),
+          templates: $('#templatesView'),
+          generator: $('#generatorView'),
+          settings: $('#settingsView'),
+          activity: $('#activityView'),
+        };
+        this.bindNavigation();
+        this.bindSettings();
+        this.bindGlobal();
+        this.refresh();
+        this.refreshActivity();
+      }
+
+      bindNavigation() {
+        this.navButtons.forEach((button) => {
+          button.addEventListener('click', () => {
+            this.navButtons.forEach((btn) => btn.classList.toggle('active', btn === button));
+            Object.entries(this.views).forEach(([key, section]) => {
+              section.classList.toggle('hidden', key !== button.dataset.view);
+            });
+          });
+        });
+        $('#toggleSidebar').addEventListener('click', () => {
+          this.sidebar.classList.toggle('open');
+        });
+      }
+
+      bindSettings() {
+        $('#saveIdentity').addEventListener('click', () => {
+          this.database.settings = Object.assign({}, this.database.settings, {
+            organization: $('#workspaceName').value || this.database.settings.organization,
+            signature: $('#workspaceSignature').value || this.database.settings.signature,
+          });
+          this.database.log('Identity updated', this.currentUserName(), 'Workspace organization details updated.');
+          this.toast.show('Identity saved', 'Workspace identity updated.');
+          this.refresh();
+        });
+
+        $('#resetIdentity').addEventListener('click', () => {
+          $('#workspaceName').value = this.database.settings.organization;
+          $('#workspaceSignature').value = this.database.settings.signature;
+          this.toast.show('Identity reset', 'Reverted to stored workspace identity.');
+        });
+
+        $('#saveAutomation').addEventListener('click', () => {
+          const delimiter = $('#placeholderDelimiter').value.trim();
+          const parts = delimiter.split(' ');
+          if (parts.length < 2) {
+            this.toast.show('Delimiter format', 'Provide opening and closing tokens separated by a space.');
+            return;
+          }
+          this.database.settings = Object.assign({}, this.database.settings, {
+            placeholderDelimiter: parts,
+            activityRetention: Number($('#activityRetention').value) || this.database.settings.activityRetention,
+          });
+          this.database.log('Automation updated', this.currentUserName(), 'Placeholder delimiter updated.');
+          this.toast.show('Automation saved', 'Merge preferences updated.');
+        });
+
+        $('#resetAutomation').addEventListener('click', () => {
+          this.database.settings = Object.assign({}, this.database.settings, {
+            placeholderDelimiter: ['{{', '}}'],
+            activityRetention: 90,
+          });
+          $('#placeholderDelimiter').value = '{{ }}';
+          $('#activityRetention').value = 90;
+          this.toast.show('Automation reset', 'Reverted to default automation settings.');
+        });
+
+        $('#logoutButton').addEventListener('click', () => {
+          this.database.session = null;
+          $('#authOverlay').classList.remove('hidden');
+          this.toast.show('Logged out', 'Session ended.');
+        });
+
+        $('#clearWorkspace').addEventListener('click', () => {
+          if (!confirm('Clear all local data? This cannot be undone.')) return;
+          localStorage.removeItem(this.database.namespace);
+          location.reload();
+        });
+
+        $('#exportWorkspace').addEventListener('click', () => this.exportData());
+      }
+
+      bindGlobal() {
+        window.addEventListener('resize', debounce(() => {
+          if (window.innerWidth > 960) {
+            this.sidebar.classList.remove('open');
+          }
+        }, 200));
+      }
+
+      exportData() {
+        const payload = JSON.stringify(this.database.state, null, 2);
+        const blob = new Blob([payload], { type: 'application/json' });
+        const url = URL.createObjectURL(blob);
+        const link = document.createElement('a');
+        link.href = url;
+        link.download = `workspace-export-${Date.now()}.json`;
+        document.body.appendChild(link);
+        link.click();
+        document.body.removeChild(link);
+        URL.revokeObjectURL(url);
+        this.toast.show('Export complete', 'Workspace data exported.');
+      }
+
+      refresh() {
+        $('#workspaceName').value = this.database.settings.organization;
+        $('#workspaceSignature').value = this.database.settings.signature;
+        $('#placeholderDelimiter').value = `${this.database.settings.placeholderDelimiter[0]} ${this.database.settings.placeholderDelimiter[1]}`;
+        $('#activityRetention').value = this.database.settings.activityRetention;
+        this.clients.render();
+        this.providers.render();
+        this.templates.render();
+        this.generator.render();
+        this.dashboard.render();
+        $('#clientViewCount').textContent = `${this.database.clients.length} stored`;
+        $('#providerViewCount').textContent = `${this.database.providers.length} stored`;
+        $('#templateViewCount').textContent = `${this.database.templates.length} stored`;
+      }
+
+      refreshActivity() {
+        const retention = this.database.settings.activityRetention;
+        const cutoff = Date.now() - retention * 24 * 60 * 60 * 1000;
+        this.database.state.activity = this.database.state.activity.filter((entry) => new Date(entry.timestamp).getTime() >= cutoff);
+        this.database.save();
+        this.activityRenderer.renderTimeline(this.database.state.activity);
+        this.activityRenderer.renderActivity(this.database.state.activity.slice(0, 20));
+        this.activityRenderer.renderPacketActivity(this.database.state.activity);
+        this.activityRenderer.renderSecurity(this.database.users);
+      }
+
+      currentUserName() {
+        const session = this.database.session;
+        if (!session) return 'Guest';
+        const user = this.database.users.find((entry) => entry.id === session.userId);
+        return user ? user.name : 'User';
+      }
+    }
+
+    const workspace = new WorkspaceApp();
+  </script>
 </body>
 </html>
